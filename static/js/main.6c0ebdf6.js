/*! For license information please see main.6c0ebdf6.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var C=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var x,I,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function N(e){if(void 0===x)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||"",I=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+x+e+I}var D=!1;function O(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{D=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?N(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function M(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function z(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function U(e){if(F(e)!==e)throw Error(s(188))}function j(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=j(e)))return t;e=e.sibling}return null}var B=Array.isArray,q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},H=[],$=-1;function V(e){return{current:e}}function K(e){0>$||(e.current=H[$],H[$]=null,$--)}function G(e,t){$++,H[$]=e.current,e.current=t}var Y=V(null),Q=V(null),J=V(null),X=V(null);function Z(e,t){switch(G(J,t),G(Q,e),G(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Ju(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xu(e=Ju(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(Y),G(Y,t)}function ee(){K(Y),K(Q),K(J)}function te(e){null!==e.memoizedState&&G(X,e);var t=Y.current,n=Xu(t,e.type);t!==n&&(G(Q,e),G(Y,n))}function ne(e){Q.current===e&&(K(Y),K(Q)),X.current===e&&(K(X),Fd._currentValue=W)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,_e=null;function ve(e){if("function"===typeof me&&ge(e),_e&&"function"===typeof _e.setStrictMode)try{_e.setStrictMode(ye,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Ce|0)|0},we=Math.log,Ce=Math.LN2;var Se=128,ke=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&n;return 0!==a?0!==(n=a&~i)?r=Ee(n):0!==(o&=a)?r=Ee(o):e||0!==(s=a&~s)&&(r=Ee(s)):0!==(a=n&~i)?r=Ee(a):0!==o?r=Ee(o):e||0!==(s=n&~s)&&(r=Ee(s)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||32===i&&0!==(4194176&s))?t:r}function Pe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Re(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=q.p;return 0!==e?e:void 0===(e=window.event)?32:Xd(e.type)}var Fe=Math.random().toString(36).slice(2),ze="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,je="__reactContainer$"+Fe,Be="__reactEvents$"+Fe,qe="__reactListeners$"+Fe,We="__reactHandles$"+Fe,He="__reactResources$"+Fe,$e="__reactMarker$"+Fe;function Ve(e){delete e[ze],delete e[Ue],delete e[Be],delete e[qe],delete e[We]}function Ke(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[je]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cd(e);null!==e;){if(n=e[ze])return n;e=cd(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[ze]||e[je]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Qe(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[$e]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function st(e,t,n){if(i=t,re.call(ot,i)||!re.call(it,i)&&(rt.test(i)?ot[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?_t(e,s,ct(t)):null!=n?_t(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function _t(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(B(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Dt=null;function Ot(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ue]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&vt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Nt||null!==Dt)&&(Uc(),Nt&&(t=Nt,e=Dt,Dt=Nt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var zt=!1;if(nt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ch){zt=!1}var jt=null,Bt=null,qt=null;function Wt(){if(qt)return qt;var e,t,n=Bt,r=n.length,i="value"in jt?jt.value:jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Vt(){return!1}function Kt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Vt,this.isPropagationStopped=Vt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Gt,Yt,Qt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Kt(Jt),Zt=A({},Jt,{view:0,detail:0}),en=Kt(Zt),tn=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Gt=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=Gt=0,Qt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=Kt(tn),rn=Kt(A({},tn,{dataTransfer:0})),on=Kt(A({},Zt,{relatedTarget:0})),sn=Kt(A({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),an=Kt(A({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(A({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Kt(A({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Kt(A({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Kt(A({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Kt(A({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Kt(A({},Jt,{newState:0,oldState:0})),bn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,Cn=null;nt&&"documentMode"in document&&(Cn=document.documentMode);var Sn=nt&&"TextEvent"in window&&!Cn,kn=nt&&(!wn||Cn&&8<Cn&&11>=Cn),En=String.fromCharCode(32),Tn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Nn(e,t,n,r){Nt?Dt?Dt.push(r):Dt=[r]:Nt=r,0<(t=Fu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,On=null;function Ln(e){Iu(e,0)}function Mn(e){if(ht(Ye(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(nt){var Un;if(nt){var jn="oninput"in document;if(!jn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),jn="function"===typeof Bn.oninput}Un=jn}else Un=!1;zn=Un&&(!document.documentMode||9<document.documentMode)}function qn(){Dn&&(Dn.detachEvent("onpropertychange",Wn),On=Dn=null)}function Wn(e){if("value"===e.propertyName&&Mn(On)){var t=[];Nn(t,On,e,At(e)),Mt(Ln,t)}}function Hn(e,t,n){"focusin"===e?(qn(),On=n,(Dn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&qn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(On)}function Vn(e,t){if("click"===e)return Mn(t)}function Kn(e,t){if("input"===e||"change"===e)return Mn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=Jn(t,o);var s=Jn(t,r);i&&s&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=Fu(ir,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),_r=hr("transitioncancel"),vr=hr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Cr(e,t){br.set(e,t),et(t,[e])}var Sr=[],kr=0,Er=0;function Tr(){for(var e=kr,t=Er=kr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var i=Sr[t];Sr[t++]=null;var o=Sr[t];if(Sr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Rr(n,i,o)}}function Pr(e,t,n,r){Sr[kr++]=e,Sr[kr++]=t,Sr[kr++]=n,Sr[kr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function xr(e,t,n,r){return Pr(e,t,n,r),Ar(e)}function Ir(e,t){return Pr(e,null,null,t),Ar(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;i&&null!==t&&3===e.tag&&(o=e.stateNode,i=31-be(n),null===(e=(o=o.hiddenUpdates)[i])?o[i]=[t]:e.push(t),t.lane=536870912|n)}function Ar(e){if(50<Ic)throw Ic=0,Rc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={},Dr=new WeakMap;function Or(e,t){if("object"===typeof e&&null!==e){var n=Dr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:M(t)},Dr.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var Lr=[],Mr=0,Fr=null,zr=0,Ur=[],jr=0,Br=null,qr=1,Wr="";function Hr(e,t){Lr[Mr++]=zr,Lr[Mr++]=Fr,Fr=e,zr=t}function $r(e,t,n){Ur[jr++]=qr,Ur[jr++]=Wr,Ur[jr++]=Br,Br=e;var r=qr;e=Wr;var i=32-be(r)-1;r&=~(1<<i),n+=1;var o=32-be(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qr=1<<32-be(t)+i|n<<i|r,Wr=o+e}else qr=1<<o|n<<i|r,Wr=e}function Vr(e){null!==e.return&&(Hr(e,1),$r(e,1,0))}function Kr(e){for(;e===Fr;)Fr=Lr[--Mr],Lr[Mr]=null,zr=Lr[--Mr],Lr[Mr]=null;for(;e===Br;)Br=Ur[--jr],Ur[jr]=null,Wr=Ur[--jr],Ur[jr]=null,qr=Ur[--jr],Ur[jr]=null}var Gr=null,Yr=null,Qr=!1,Jr=null,Xr=!1,Zr=Error(s(519));function ei(e){throw oi(Or(Error(s(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[Ue]=r,n){case"dialog":Ru("cancel",t),Ru("close",t);break;case"iframe":case"object":case"embed":Ru("load",t);break;case"video":case"audio":for(n=0;n<Pu.length;n++)Ru(Pu[n],t);break;case"source":Ru("error",t);break;case"img":case"image":case"link":Ru("error",t),Ru("load",t);break;case"details":Ru("toggle",t);break;case"input":Ru("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Ru("invalid",t);break;case"textarea":Ru("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Wu(t.textContent,n)?(null!=r.popover&&(Ru("beforetoggle",t),Ru("toggle",t)),null!=r.onScroll&&Ru("scroll",t),null!=r.onScrollEnd&&Ru("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||ei(e)}function ni(e){for(Gr=e.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Gr=Gr.return}}function ri(e){if(e!==Gr)return!1;if(!Qr)return ni(e),Qr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Yr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Yr=ld(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Yr=null}}else Yr=Gr?ld(e.stateNode.nextSibling):null;return!0}function ii(){Yr=Gr=null,Qr=!1}function oi(e){null===Jr?Jr=[e]:Jr.push(e)}var si=Error(s(460)),ai=Error(s(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e}throw hi=t,si}}var hi=null;function fi(){if(null===hi)throw Error(s(459));var e=hi;return hi=null,e}var pi=null,mi=0;function yi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),di(pi,e,t)}function _i(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function vi(e,t){if(t.$$typeof===l)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var o=n.type;return o===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===w&&bi(o)===t.type)?(_i(t=i(t,n.props),n),t.return=e,t):(_i(t=jl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return _i(n=jl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Hl(t,e.mode,n)).return=e,t;case w:return m(e,t=(0,t._init)(t._payload),n)}if(B(t)||E(t))return(t=Bl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,yi(t),n);if(t.$$typeof===g)return m(e,Pa(e,t),n);vi(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case w:return y(e,t,n=(i=n._init)(n._payload),r)}if(B(n)||E(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return y(e,t,yi(n),r);if(n.$$typeof===g)return y(e,t,Pa(e,n),r);vi(e,n)}return null}function _(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return _(e,t,n,r=(0,r._init)(r._payload),i)}if(B(r)||E(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return _(e,t,n,yi(r),i);if(r.$$typeof===g)return _(e,t,n,Pa(t,r),i);vi(t,r)}return null}function v(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var b=f.key;null!==h;){if(h.key===b){if((b=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=i(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===w&&bi(b)===h.type){n(l,h.sibling),_i(p=i(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=Bl(f.props.children,l.mode,p,f.key)).return=l,l=p):(_i(p=jl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return a(l);case u:e:{for(b=f.key;null!==h;){if(h.key===b){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=i(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=Hl(f,l.mode,p)).return=l,l=p}return a(l);case w:return v(l,h,f=(b=f._init)(f._payload),p)}if(B(f))return function(i,s,a,l){for(var c=null,u=null,d=s,h=s=0,f=null;null!==d&&h<a.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=y(i,d,a[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),s=o(p,s,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===a.length)return n(i,d),Qr&&Hr(i,h),c;if(null===d){for(;h<a.length;h++)null!==(d=m(i,a[h],l))&&(s=o(d,s,h),null===u?c=d:u.sibling=d,u=d);return Qr&&Hr(i,h),c}for(d=r(d);h<a.length;h++)null!==(f=_(d,i,h,a[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),s=o(f,s,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Qr&&Hr(i,h),c}(l,h,f,p);if(E(f)){if("function"!==typeof(b=E(f)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,h=a,f=a=0,p=null,g=l.next();null!==h&&!g.done;f++,g=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var v=y(i,h,g.value,c);if(null===v){null===h&&(h=p);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,f),null===d?u=v:d.sibling=v,d=v,h=p}if(g.done)return n(i,h),Qr&&Hr(i,f),u;if(null===h){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,c))&&(a=o(g,a,f),null===d?u=g:d.sibling=g,d=g);return Qr&&Hr(i,f),u}for(h=r(h);!g.done;f++,g=l.next())null!==(g=_(h,i,f,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),a=o(g,a,f),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(i,e)})),Qr&&Hr(i,f),u}(l,h,f=b.call(f),p)}if("function"===typeof f.then)return v(l,h,yi(f),p);if(f.$$typeof===g)return v(l,h,Pa(l,f),p);vi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=i(h,f)).return=l,l=p):(n(l,h),(p=Wl(f,l.mode,p)).return=l,l=p),a(l)):n(l,h)}return function(e,t,n,r){try{mi=0;var i=v(e,t,n,r);return pi=null,i}catch(s){if(s===si)throw s;var o=Ml(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var Ci=wi(!0),Si=wi(!1),ki=V(null),Ei=V(0);function Ti(e,t){G(Ei,e=uc),G(ki,t),uc=e|t.baseLanes}function Pi(){G(Ei,uc),G(ki,ki.current)}function xi(){uc=Ei.current,K(ki),K(Ei)}var Ii=V(null),Ri=null;function Ai(e){var t=e.alternate;G(Li,1&Li.current),G(Ii,e),null===Ri&&(null===t||null!==ki.current||null!==t.memoizedState)&&(Ri=e)}function Ni(e){if(22===e.tag){if(G(Li,Li.current),G(Ii,e),null===Ri){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ri=e)}}else Di()}function Di(){G(Li,Li.current),G(Ii,Ii.current)}function Oi(e){K(Ii),Ri===e&&(Ri=null),K(Li)}var Li=V(0);function Mi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},zi=r.unstable_scheduleCallback,Ui=r.unstable_NormalPriority,ji={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bi(){return{controller:new Fi,data:new Map,refCount:0}}function qi(e){e.refCount--,0===e.refCount&&zi(Ui,(function(){e.controller.abort()}))}var Wi=null,Hi=0,$i=0,Vi=null;function Ki(){if(0===--Hi&&null!==Wi){null!==Vi&&(Vi.status="fulfilled");var e=Wi;Wi=null,$i=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Wi){var n=Wi=[];Hi=0,$i=Cu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Ki,Ki)}(0,t),null!==Gi&&Gi(e,t)};var Yi=V(null);function Qi(){var e=Yi.current;return null!==e?e:nc.pooledCache}function Ji(e,t){G(Yi,null===t?Yi.current:t.pool)}function Xi(){var e=Qi();return null===e?null:{parent:ji._currentValue,pool:e}}var Zi=0,eo=null,to=null,no=null,ro=!1,io=!1,oo=!1,so=0,ao=0,lo=null,co=0;function uo(){throw Error(s(321))}function ho(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,o){return Zi=o,eo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Ps:xs,oo=!1,o=n(r,i),oo=!1,io&&(o=mo(t,n,r,i)),po(e),o}function po(e){R.H=Ts;var t=null!==to&&null!==to.next;if(Zi=0,no=to=eo=null,ro=!1,ao=0,lo=null,t)throw Error(s(300));null===e||$s||null!==(e=e.dependencies)&&ka(e)&&($s=!0)}function mo(e,t,n,r){eo=e;var i=0;do{if(io&&(lo=null),ao=0,io=!1,25<=i)throw Error(s(301));if(i+=1,no=to=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}R.H=Is,o=t(n,r)}while(io);return o}function go(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Co(t):t,e=e.useState()[0],(null!==to?to.memoizedState:null)!==e&&(eo.flags|=1024),t}function yo(){var e=0!==so;return so=0,e}function _o(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vo(e){if(ro){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ro=!1}Zi=0,no=to=eo=null,io=!1,ao=so=0,lo=null}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===no?eo.memoizedState=no=e:no=no.next=e,no}function wo(){if(null===to){var e=eo.alternate;e=null!==e?e.memoizedState:null}else e=to.next;var t=null===no?eo.memoizedState:no.next;if(null!==t)no=t,to=e;else{if(null===e){if(null===eo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(to=e).memoizedState,baseState:to.baseState,baseQueue:to.baseQueue,queue:to.queue,next:null},null===no?eo.memoizedState=no=e:no=no.next=e}return no}function Co(e){var t=ao;return ao+=1,null===lo&&(lo=[]),e=di(lo,e,t),t=eo,null===(null===no?t.memoizedState:no.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Ps:xs),e}function So(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Co(e);if(e.$$typeof===g)return Ta(e)}throw Error(s(438,String(e)))}function ko(e){var t=null,n=eo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=eo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},eo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Eo(e,t){return"function"===typeof t?t(e):t}function To(e){return Po(wo(),to,e)}function Po(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(Zi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===$i&&(d=!0);else{if((Zi&f)===f){u=u.next,f===$i&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,eo.lanes|=f,hc|=f}h=u.action,oo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,eo.lanes|=h,hc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Gn(o,e.memoizedState)&&($s=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function xo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Gn(o,t.memoizedState)||($s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(e,t,n){var r=eo,i=wo(),o=Qr;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Gn((to||i).memoizedState,n);if(a&&(i.memoizedState=n,$s=!0),i=i.queue,es(No.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==no&&1&no.memoizedState.tag){if(r.flags|=2048,Yo(9,Ao.bind(null,r,i,n,t),{destroy:void 0},null),null===nc)throw Error(s(349));o||0!==(60&Zi)||Ro(r,t,n)}return n}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=eo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},eo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Oo(e)}function No(e,t,n){return n((function(){Do(t)&&Oo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(gi){return!0}}function Oo(e){var t=Ir(e,2);null!==t&&Dc(t,e,2)}function Lo(e){var t=bo();if("function"===typeof e){var n=e;if(e=n(),oo){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t}function Mo(e,t,n,r){return e.baseState=n,Po(e,to,"function"===typeof r?r:Eo)}function Fo(e,t,n,r,i){if(Ss(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==R.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,zo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function zo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=R.T,s={};R.T=s;try{var a=n(i,r),l=R.S;null!==l&&l(s,a),Uo(e,t,a)}catch(gi){Bo(e,t,gi)}finally{R.T=o}}else try{Uo(e,t,o=n(i,r))}catch(c){Bo(e,t,c)}}function Uo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){jo(e,t,n)}),(function(n){return Bo(e,t,n)})):jo(e,t,n)}function jo(e,t,n){t.status="fulfilled",t.value=n,qo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,zo(e,n)))}function Bo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,qo(t),t=t.next}while(t!==r)}e.action=null}function qo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wo(e,t){return t}function Ho(e,t){if(Qr){var n=nc.formState;if(null!==n){e:{var r=eo;if(Qr){if(Yr){t:{for(var i=Yr,o=Xr;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=ld(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){Yr=ld(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=bo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:t},n.queue=r,n=bs.bind(null,eo,r),r.dispatch=n,r=Lo(!1),o=Cs.bind(null,eo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=bo()).queue=i,n=Fo.bind(null,eo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function $o(e){return Vo(wo(),to,e)}function Vo(e,t,n){t=Po(e,t,Wo)[0],e=To(Eo)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?Co(t):t;var r=wo(),i=r.queue,o=i.dispatch;return n!==r.memoizedState&&(eo.flags|=2048,Yo(9,Ko.bind(null,i,n),{destroy:void 0},null)),[t,o,e]}function Ko(e,t){e.action=t}function Go(e){var t=wo(),n=to;if(null!==n)return Vo(t,n,e);wo(),t=t.memoizedState;var r=(n=wo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Yo(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=eo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},eo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qo(){return wo().memoizedState}function Jo(e,t,n,r){var i=bo();eo.flags|=e,i.memoizedState=Yo(1|t,n,{destroy:void 0},void 0===r?null:r)}function Xo(e,t,n,r){var i=wo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==to&&null!==r&&ho(r,to.memoizedState.deps)?i.memoizedState=Yo(t,n,o,r):(eo.flags|=e,i.memoizedState=Yo(1|t,n,o,r))}function Zo(e,t){Jo(8390656,8,e,t)}function es(e,t){Xo(2048,8,e,t)}function ts(e,t){return Xo(4,2,e,t)}function ns(e,t){return Xo(4,4,e,t)}function rs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function is(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xo(4,4,rs.bind(null,t,e),n)}function os(){}function ss(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ho(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function as(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ho(t,r[1]))return r[0];if(r=e(),oo){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function ls(e,t,n){return void 0===n||0!==(1073741824&Zi)?e.memoizedState=t:(e.memoizedState=n,e=Nc(),eo.lanes|=e,hc|=e,n)}function cs(e,t,n,r){return Gn(n,t)?n:null!==ki.current?(e=ls(e,n,r),Gn(e,t)||($s=!0),e):0===(42&Zi)?($s=!0,e.memoizedState=n):(e=Nc(),eo.lanes|=e,hc|=e,t)}function us(e,t,n,r,i){var o=q.p;q.p=0!==o&&8>o?o:8;var s=R.T,a={};R.T=a,Cs(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);ws(e,t,u,Ac())}else ws(e,t,r,Ac())}catch(gi){ws(e,t,{then:function(){},status:"rejected",reason:gi},Ac())}finally{q.p=o,R.T=s}}function ds(){}function hs(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=fs(e).queue;us(e,i,t,W,null===n?ds:function(){return ps(e),n(r)})}function fs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:W},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ps(e){ws(e,fs(e).next.queue,{},Ac())}function ms(){return Ta(Fd)}function gs(){return wo().memoizedState}function ys(){return wo().memoizedState}function _s(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ac(),r=Da(t,e=Na(n),n);return null!==r&&(Dc(r,t,n),Oa(r,t,n)),t={cache:Bi()},void(e.payload=t)}t=t.return}}function vs(e,t,n){var r=Ac();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ss(e)?ks(t,n):null!==(n=xr(e,t,n,r))&&(Dc(n,e,r),Es(n,t,r))}function bs(e,t,n){ws(e,t,n,Ac())}function ws(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ss(e))ks(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,s))return Pr(e,t,i,0),null===nc&&Tr(),!1}catch(gi){}if(null!==(n=xr(e,t,i,r)))return Dc(n,e,r),Es(n,t,r),!0}return!1}function Cs(e,t,n,r){if(r={lane:2,revertLane:Cu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ss(e)){if(t)throw Error(s(479))}else null!==(t=xr(e,n,r,2))&&Dc(t,e,2)}function Ss(e){var t=e.alternate;return e===eo||null!==t&&t===eo}function ks(e,t){io=ro=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Es(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var Ts={readContext:Ta,use:So,useCallback:uo,useContext:uo,useEffect:uo,useImperativeHandle:uo,useLayoutEffect:uo,useInsertionEffect:uo,useMemo:uo,useReducer:uo,useRef:uo,useState:uo,useDebugValue:uo,useDeferredValue:uo,useTransition:uo,useSyncExternalStore:uo,useId:uo};Ts.useCacheRefresh=uo,Ts.useMemoCache=uo,Ts.useHostTransitionStatus=uo,Ts.useFormState=uo,Ts.useActionState=uo,Ts.useOptimistic=uo;var Ps={readContext:Ta,use:So,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Zo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Jo(4194308,4,rs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jo(4194308,4,e,t)},useInsertionEffect:function(e,t){Jo(4,2,e,t)},useMemo:function(e,t){var n=bo();t=void 0===t?null:t;var r=e();if(oo){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bo();if(void 0!==n){var i=n(t);if(oo){ve(!0);try{n(t)}finally{ve(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=vs.bind(null,eo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:function(e){var t=(e=Lo(e)).queue,n=bs.bind(null,eo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:os,useDeferredValue:function(e,t){return ls(bo(),e,t)},useTransition:function(){var e=Lo(!1);return e=us.bind(null,eo,e.queue,!0,!1),bo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=eo,i=bo();if(Qr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===nc)throw Error(s(349));0!==(60&ic)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Zo(No.bind(null,r,o,e),[e]),r.flags|=2048,Yo(9,Ao.bind(null,r,o,n,t),{destroy:void 0},null),n},useId:function(){var e=bo(),t=nc.identifierPrefix;if(Qr){var n=Wr;t=":"+t+"R"+(n=(qr&~(1<<32-be(qr)-1)).toString(32)+n),0<(n=so++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=co++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bo().memoizedState=_s.bind(null,eo)}};Ps.useMemoCache=ko,Ps.useHostTransitionStatus=ms,Ps.useFormState=Ho,Ps.useActionState=Ho,Ps.useOptimistic=function(e){var t=bo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Cs.bind(null,eo,!0,n),n.dispatch=t,[e,t]};var xs={readContext:Ta,use:So,useCallback:ss,useContext:Ta,useEffect:es,useImperativeHandle:is,useInsertionEffect:ts,useLayoutEffect:ns,useMemo:as,useReducer:To,useRef:Qo,useState:function(){return To(Eo)},useDebugValue:os,useDeferredValue:function(e,t){return cs(wo(),to.memoizedState,e,t)},useTransition:function(){var e=To(Eo)[0],t=wo().memoizedState;return["boolean"===typeof e?e:Co(e),t]},useSyncExternalStore:Io,useId:gs};xs.useCacheRefresh=ys,xs.useMemoCache=ko,xs.useHostTransitionStatus=ms,xs.useFormState=$o,xs.useActionState=$o,xs.useOptimistic=function(e,t){return Mo(wo(),0,e,t)};var Is={readContext:Ta,use:So,useCallback:ss,useContext:Ta,useEffect:es,useImperativeHandle:is,useInsertionEffect:ts,useLayoutEffect:ns,useMemo:as,useReducer:xo,useRef:Qo,useState:function(){return xo(Eo)},useDebugValue:os,useDeferredValue:function(e,t){var n=wo();return null===to?ls(n,e,t):cs(n,to.memoizedState,e,t)},useTransition:function(){var e=xo(Eo)[0],t=wo().memoizedState;return["boolean"===typeof e?e:Co(e),t]},useSyncExternalStore:Io,useId:gs};function Rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Is.useCacheRefresh=ys,Is.useMemoCache=ko,Is.useHostTransitionStatus=ms,Is.useFormState=Go,Is.useActionState=Go,Is.useOptimistic=function(e,t){var n=wo();return null!==to?Mo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var As={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ac(),i=Na(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Da(e,i,r))&&(Dc(t,e,r),Oa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ac(),i=Na(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Da(e,i,r))&&(Dc(t,e,r),Oa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ac(),r=Na(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Da(e,r,n))&&(Dc(t,e,n),Oa(t,e,n))}};function Ns(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function Ds(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&As.enqueueReplaceState(t,t.state,null)}function Os(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=A({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Ls="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ms(e){Ls(e)}function Fs(e){console.error(e)}function zs(e){Ls(e)}function Us(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function js(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Bs(e,t,n){return(n=Na(n)).tag=3,n.payload={element:null},n.callback=function(){Us(e,t)},n}function qs(e){return(e=Na(e)).tag=3,e}function Ws(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){js(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){js(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Hs=Error(s(461)),$s=!1;function Vs(e,t,n,r){t.child=null===e?Si(t,null,n,r):Ci(t,e.child,n,r)}function Ks(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ea(t),r=fo(e,t,n,s,o,i),a=yo(),null===e||$s?(Qr&&a&&Vr(t),t.flags|=1,Vs(e,t,r,i),t.child):(_o(e,t,i),fa(e,t,i))}function Gs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fl(o)||void 0!==o.defaultProps||null!==n.compare?((e=jl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ys(e,t,o,r,i))}if(o=e.child,!pa(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return fa(e,t,i)}return t.flags|=1,(e=zl(o,r)).ref=t.ref,e.return=t,t.child=e}function Ys(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if($s=!1,t.pendingProps=r=o,!pa(e,i))return t.lanes=e.lanes,fa(e,t,i);0!==(131072&e.flags)&&($s=!0)}}return Zs(e,t,n,r,i)}function Qs(e,t,n){var r=t.pendingProps,i=r.children,o=0!==(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(Xs(e,t),"hidden"===r.mode||o){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Js(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Js(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==s?s.cachePool:null),null!==s?Ti(t,s):Pi(),Ni(t)}else null!==s?(Ji(0,s.cachePool),Ti(t,s),Di(),t.memoizedState=null):(null!==e&&Ji(0,null),Pi(),Di());return Vs(e,t,i,n),t.child}function Js(e,t,n,r){var i=Qi();return i=null===i?null:{parent:ji._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ji(0,null),Pi(),Ni(t),null!==e&&Sa(e,t,r,!0),null}function Xs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Zs(e,t,n,r,i){return Ea(t),n=fo(e,t,n,r,void 0,i),r=yo(),null===e||$s?(Qr&&r&&Vr(t),t.flags|=1,Vs(e,t,n,i),t.child):(_o(e,t,i),fa(e,t,i))}function ea(e,t,n,r,i,o){return Ea(t),t.updateQueue=null,n=mo(t,r,n,i),po(e),r=yo(),null===e||$s?(Qr&&r&&Vr(t),t.flags|=1,Vs(e,t,n,o),t.child):(_o(e,t,o),fa(e,t,o))}function ta(e,t,n,r,i){if(Ea(t),null===t.stateNode){var o=Nr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ta(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=As,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Ra(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ta(s):Nr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(Rs(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&As.enqueueReplaceState(o,o.state,null),za(t,r,o,i),Fa(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=Os(n,a);o.props=l;var c=o.context,u=n.contextType;s=Nr,"object"===typeof u&&null!==u&&(s=Ta(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&Ds(t,o,r,s),Ia=!1;var h=t.memoizedState;o.state=h,za(t,r,o,i),Fa(),c=t.memoizedState,a||h!==c||Ia?("function"===typeof d&&(Rs(t,n,d,r),c=t.memoizedState),(l=Ia||Ns(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),u=Os(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Nr,"object"===typeof c&&null!==c&&(l=Ta(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Ds(t,o,r,l),Ia=!1,h=t.memoizedState,o.state=h,za(t,r,o,i),Fa();var f=t.memoizedState;s!==d||h!==f||Ia||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof a&&(Rs(t,n,a,r),f=t.memoizedState),(u=Ia||Ns(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Xs(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,n,i)):Vs(e,t,n,i),t.memoizedState=o.state,e=t.child):e=fa(e,t,i),e}function na(e,t,n,r){return ii(),t.flags|=256,Vs(e,t,n,r),t.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function ia(e){return{baseLanes:e,cachePool:Xi()}}function oa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function sa(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Li.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Qr){if(o?Ai(t):Di(),Qr){var l,c=Yr;if(l=c){e:{for(l=c,c=Xr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=ld(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Br?{id:qr,overflow:Wr}:null,retryLane:536870912},(l=Ml(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Gr=t,Yr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Oi(t)}return c=i.children,i=i.fallback,o?(Di(),c=la({mode:"hidden",children:c},o=t.mode),i=Bl(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=ia(n),o.childLanes=oa(e,r,n),t.memoizedState=ra,i):(Ai(t),aa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(Ai(t),t.flags&=-257,t=ca(e,t,n)):null!==t.memoizedState?(Di(),t.child=e.child,t.flags|=128,t=null):(Di(),o=i.fallback,c=t.mode,i=la({mode:"visible",children:i.children},c),(o=Bl(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Ci(t,e.child,null,n),(i=t.child).memoizedState=ia(n),i.childLanes=oa(e,r,n),t.memoizedState=ra,t=o);else if(Ai(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,oi({value:i,source:null,stack:null}),t=ca(e,t,n)}else if($s||Sa(e,t,n,!1),r=0!==(n&e.childLanes),$s||r){if(null!==(r=nc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Ir(e,i),Dc(r,e,i),Hs}"$?"===c.data||$c(),t=ca(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=lu.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Yr=ld(c.nextSibling),Gr=t,Qr=!0,Jr=null,Xr=!1,null!==e&&(Ur[jr++]=qr,Ur[jr++]=Wr,Ur[jr++]=Br,qr=e.id,Wr=e.overflow,Br=t),(t=aa(t,i.children)).flags|=4096);return t}return o?(Di(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=zl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?o=zl(u,o):(o=Bl(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=ia(n):(null!==(l=c.cachePool)?(u=ji._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=oa(e,r,n),t.memoizedState=ra,i):(Ai(t),e=(n=e.child).sibling,(n=zl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function aa(e,t){return(t=la({mode:"visible",children:t},e.mode)).return=e,e.child=t}function la(e,t){return ql(e,t,0,null)}function ca(e,t,n){return Ci(t,e.child,null,n),(e=aa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function da(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Vs(e,t,r.children,n),0!==(2&(r=Li.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ua(e,n,t);else if(19===e.tag)ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(G(Li,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Mi(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),da(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Mi(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}da(t,!0,n,null,o);break;case"together":da(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=zl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function pa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function ma(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)$s=!0;else{if(!pa(e,n)&&0===(128&t.flags))return $s=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),va(t,ji,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:va(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ai(t),t.flags|=128,null):0!==(n&t.child.childLanes)?sa(e,t,n):(Ai(t),null!==(e=fa(e,t,n))?e.sibling:null);Ai(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Sa(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(Li,Li.current),r)break;return null;case 22:case 23:return t.lanes=0,Qs(e,t,n);case 24:va(t,ji,e.memoizedState.cache)}return fa(e,t,n)}(e,t,n);$s=0!==(131072&e.flags)}else $s=!1,Qr&&0!==(1048576&t.flags)&&$r(t,zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===y){t.tag=11,t=Ks(null,t,r,e,n);break e}if(i===b){t.tag=14,t=Gs(null,t,r,e,n);break e}}throw t=P(r)||r,Error(s(306,t,""))}Fl(r)?(e=Os(r,e),t.tag=1,t=ta(null,t,r,e,n)):(t.tag=0,t=Zs(null,t,r,e,n))}return t;case 0:return Zs(e,t,t.type,t.pendingProps,n);case 1:return ta(e,t,r=t.type,i=Os(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(s(387));var o=t.pendingProps;r=(i=t.memoizedState).element,Aa(e,t),za(t,o,null,n);var a=t.memoizedState;if(o=a.cache,va(t,ji,o),o!==i.cache&&Ca(t,[ji],n,!0),Fa(),o=a.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=na(e,t,o,n);break e}if(o!==r){oi(r=Or(Error(s(424)),t)),t=na(e,t,o,n);break e}for(Yr=ld(t.stateNode.containerInfo.firstChild),Gr=t,Qr=!0,Jr=null,Xr=!0,n=Si(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),o===r){t=fa(e,t,n);break e}Vs(e,t,o,n)}t=t.child}return t;case 26:return Xs(e,t),null===e?(n=yd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Qr||(n=t.type,e=t.pendingProps,(r=Qu(J.current).createElement(n))[ze]=t,r[Ue]=e,Ku(r,n,e),Je(r),t.stateNode=r):t.memoizedState=yd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Qr&&(r=t.stateNode=ud(t.type,t.pendingProps,J.current),Gr=t,Xr=!0,Yr=ld(r.firstChild)),r=t.pendingProps.children,null!==e||Qr?Vs(e,t,r,n):t.child=Ci(t,null,r,n),Xs(e,t),t.child;case 5:return null===e&&Qr&&((i=r=Yr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Gr=t,Yr=ld(r.firstChild),Xr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,Zu(i,o)?r=null:null!==a&&Zu(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=fo(e,t,go,null,null,n),Fd._currentValue=i),Xs(e,t),Vs(e,t,r,n),t.child;case 6:return null===e&&Qr&&((e=n=Yr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ld(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Gr=t,Yr=null,e=!0):e=!1),e||ei(t)),null;case 13:return sa(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ci(t,null,r,n):Vs(e,t,r,n),t.child;case 11:return Ks(e,t,t.type,t.pendingProps,n);case 7:return Vs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,va(t,t.type,r.value),Vs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ea(t),r=r(i=Ta(i)),t.flags|=1,Vs(e,t,r,n),t.child;case 14:return Gs(e,t,t.type,t.pendingProps,n);case 15:return Ys(e,t,t.type,t.pendingProps,n);case 19:return ha(e,t,n);case 22:return Qs(e,t,n);case 24:return Ea(t),r=Ta(ji),null===e?(null===(i=Qi())&&(i=nc,o=Bi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Ra(t),va(t,ji,i)):(0!==(e.lanes&n)&&(Aa(e,t),za(t,null,null,n),Fa()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),va(t,ji,r)):(r=o.cache,va(t,ji,r),r!==i.cache&&Ca(t,[ji],n,!0))),Vs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}var ga=V(null),ya=null,_a=null;function va(e,t,n){G(ga,t._currentValue),t._currentValue=n}function ba(e){e._currentValue=ga.current,K(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wa(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),wa(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Sa(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Gn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===X.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Fd):e=[Fd])}i=i.return}null!==e&&Ca(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ea(e){ya=e,_a=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ta(e){return xa(ya,e)}function Pa(e,t){return null===ya&&Ea(e),xa(e,t)}function xa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===_a){if(null===e)throw Error(s(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return n}var Ia=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&tc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ar(e),Rr(e,null,n),t}return Pr(e,r,t,n),Ar(e)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ma=!1;function Fa(){if(Ma){if(null!==Vi)throw Vi}}function za(e,t,n,r){Ma=!1;var i=e.updateQueue;Ia=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,f=h!==a.lane;if(f?(ic&h)===h:(r&h)===h){0!==h&&h===$i&&(Ma=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var p=e,m=a;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(g,d,h):p)||void 0===h)break e;d=A({},d,h);break e;case 2:Ia=!0}}null!==(h=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),hc|=s,e.lanes=s,e.memoizedState=d}}function Ua(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ja(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ua(n[e],t)}function Ba(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(gi){iu(t,t.return,gi)}}function qa(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n;try{a()}catch(gi){iu(i,l,gi)}}}r=r.next}while(r!==o)}}catch(gi){iu(t,t.return,gi)}}function Wa(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ja(t,n)}catch(gi){iu(e,e.return,gi)}}}function Ha(e,t,n){n.props=Os(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(gi){iu(e,t,gi)}}function $a(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(gi){iu(e,t,gi)}}function Va(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(gi){iu(e,t,gi)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){iu(e,t,i)}else n.current=null}function Ka(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(gi){iu(e,e.return,gi)}}function Ga(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||$u(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&$u(e,t,f,p,r,h)}}return void gt(e,a,l,c,u,d,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||$u(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&$u(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?vt(e,!!n,f,!1):!!r!==!!n&&(null!=t?vt(e,!!n,t,!0):vt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:$u(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&$u(e,t,a,i,r,o)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else $u(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else $u(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&$u(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:$u(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Vu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Vu(e,t,d,f,r,p);return}}for(var _ in n)f=n[_],n.hasOwnProperty(_)&&null!=f&&!r.hasOwnProperty(_)&&$u(e,t,_,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||$u(e,t,h,f,r,p)}(r,e.type,n,t),r[Ue]=t}catch(gi){iu(e,e.return,gi)}}function Ya(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ja(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Ja(e,t,n),e=e.sibling;null!==e;)Ja(e,t,n),e=e.sibling}function Xa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Xa(e,t,n),e=e.sibling;null!==e;)Xa(e,t,n),e=e.sibling}var Za=!1,el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null,il=!1;function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:_l(e,n),4&r&&Ba(5,n);break;case 1:if(_l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(gi){iu(n,n.return,gi)}else{var i=Os(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){iu(n,n.return,a)}}64&r&&Wa(n),512&r&&$a(n,n.return);break;case 3:if(_l(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{ja(r,e)}catch(gi){iu(n,n.return,gi)}}break;case 26:_l(e,n),512&r&&$a(n,n.return);break;case 27:case 5:_l(e,n),null===t&&4&r&&Ka(n),512&r&&$a(n,n.return);break;case 12:default:_l(e,n);break;case 13:_l(e,n),4&r&&dl(e,n);break;case 22:if(!(i=null!==n.memoizedState||Za)){t=null!==t&&null!==t.memoizedState||el;var o=Za,s=el;Za=i,(el=t)&&!s?bl(e,n,0!==(8772&n.subtreeFlags)):_l(e,n),Za=o,el=s}512&r&&("manual"===n.memoizedProps.mode?$a(n,n.return):Va(n,n.return))}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,ll=!1;function cl(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(_e&&"function"===typeof _e.onCommitFiberUnmount)try{_e.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:el||Va(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:el||Va(n,t);var r=al,i=ll;for(al=n.stateNode,cl(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ve(n),al=r,ll=i;break;case 5:el||Va(n,t);case 6:i=al;var o=ll;if(al=null,cl(e,t,n),ll=o,null!==(al=i))if(ll)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(gi){iu(n,t,gi)}else try{al.removeChild(n.stateNode)}catch(gi){iu(n,t,gi)}break;case 18:null!==al&&(ll?(t=al,n=n.stateNode,8===t.nodeType?sd(t.parentNode,n):1===t.nodeType&&sd(t,n),gh(t)):sd(al,n.stateNode));break;case 4:r=al,i=ll,al=n.stateNode.containerInfo,ll=!0,cl(e,t,n),al=r,ll=i;break;case 0:case 11:case 14:case 15:el||qa(2,n,t),el||qa(4,n,t),cl(e,t,n);break;case 1:el||(Va(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Ha(n,t,r)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:el||Va(n,t),el=(r=el)||null!==n.memoizedState,cl(e,t,n),el=r;break;default:cl(e,t,n)}}function dl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gh(e)}catch(gi){iu(t,t.return,gi)}}function hl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new nl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,ll=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===al)throw Error(s(160));ul(o,a,i),al=null,ll=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}var pl=null;function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fl(t,e),gl(e),4&r&&(qa(3,e,e.return),Ba(3,e),qa(5,e,e.return));break;case 1:fl(t,e),gl(e),512&r&&(el||null===n||Va(n,n.return)),64&r&&Za&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=pl;if(fl(t,e),gl(e),512&r&&(el||null===n||Va(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[$e]||o[ze]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Ku(o,r,n),o[ze]=e,Je(o),r=o;break e;case"link":var a=xd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}Ku(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=xd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}Ku(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[ze]=e,Je(o),r=o}e.stateNode=r}else Id(i,e.type,e.stateNode);else e.stateNode=Sd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Id(i,e.type,e.stateNode):Sd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ga(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,o=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[$e]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ku(i,h,o),i[ze]=e,i[Ue]=o}catch(gi){iu(e,e.return,gi)}}case 5:if(fl(t,e),gl(e),512&r&&(el||null===n||Va(n,n.return)),32&e.flags){i=e.stateNode;try{Ct(i,"")}catch(gi){iu(e,e.return,gi)}}4&r&&null!=e.stateNode&&Ga(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(tl=!0);break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(gi){iu(e,e.return,gi)}}break;case 3:if(Pd=null,i=pl,pl=fd(t.containerInfo),fl(t,e),pl=i,gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gh(t.containerInfo)}catch(gi){iu(e,e.return,gi)}tl&&(tl=!1,yl(e));break;case 4:r=pl,pl=fd(e.stateNode.containerInfo),fl(t,e),gl(e),pl=r;break;case 12:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 22:if(512&r&&(el||null===n||Va(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Za=(d=Za)||c,el=(h=el)||u,fl(t,e),el=h,Za=d,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Za||el,null===n||u||t||vl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{a=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;a.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(gi){iu(u,u.return,gi)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(gi){iu(u,u.return,gi)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,hl(e,n))));break;case 19:fl(t,e),gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 21:break;default:fl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Ya(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 27:var i=r.stateNode;Xa(e,Qa(e),i);break;case 5:var o=r.stateNode;32&r.flags&&(Ct(o,""),r.flags&=-33),Xa(e,Qa(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;Ja(e,Qa(e),a);break;default:throw Error(s(161))}}}catch(gi){iu(e,e.return,gi)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function _l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ol(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qa(4,t,t.return),vl(t);break;case 1:Va(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Ha(t,t.return,n),vl(t);break;case 26:case 27:case 5:Va(t,t.return),vl(t);break;case 22:Va(t,t.return),null===t.memoizedState&&vl(t);break;default:vl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:bl(i,o,n),Ba(4,o);break;case 1:if(bl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(gi){iu(r,r.return,gi)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ua(l[i],a)}catch(gi){iu(r,r.return,gi)}}n&&64&s&&Wa(o),$a(o,o.return);break;case 26:case 27:case 5:bl(i,o,n),n&&null===r&&4&s&&Ka(o),$a(o,o.return);break;case 12:default:bl(i,o,n);break;case 13:bl(i,o,n),n&&4&s&&dl(i,o);break;case 22:null===o.memoizedState&&bl(i,o,n),$a(o,o.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&qi(n))}function Cl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qi(e))}function Sl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t,n,r),t=t.sibling}function kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),2048&i&&Ba(9,t);break;case 3:Sl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qi(e)));break;case 12:if(2048&i){Sl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(gi){iu(t,t.return,gi)}}else Sl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?Sl(e,t,n,r):Tl(e,t):4&o._visibility?Sl(e,t,n,r):(o._visibility|=4,El(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&wl(t.alternate,t);break;case 24:Sl(e,t,n,r),2048&i&&Cl(t.alternate,t);break;default:Sl(e,t,n,r)}}function El(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:El(o,s,a,l,i),Ba(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?4&u._visibility?El(o,s,a,l,i):Tl(o,s):(u._visibility|=4,El(o,s,a,l,i)),i&&2048&c&&wl(s.alternate,s);break;case 24:El(o,s,a,l,i),i&&2048&c&&Cl(s.alternate,s);break;default:El(o,s,a,l,i)}t=t.sibling}}function Tl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Tl(n,r),2048&i&&wl(r.alternate,r);break;case 24:Tl(n,r),2048&i&&Cl(r.alternate,r);break;default:Tl(n,r)}t=t.sibling}}var Pl=8192;function xl(e){if(e.subtreeFlags&Pl)for(e=e.child;null!==e;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 26:xl(e),e.flags&Pl&&null!==e.memoizedState&&function(e,t,n){if(null===Ad)throw Error(s(475));var r=Ad;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=_d(n.href),o=e.querySelector(vd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Dd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Je(o);o=e.ownerDocument||e,n=bd(n),(i=dd.get(i))&&Ed(n,i),Je(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Ku(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Dd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:xl(e);break;case 3:case 4:var t=pl;pl=fd(e.stateNode.containerInfo),xl(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Pl,Pl=16777216,xl(e),Pl=t):xl(e))}}function Rl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Ol(r,e)}Rl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 0:case 11:case 15:Al(e),2048&e.flags&&qa(9,e,e.return);break;case 3:case 12:default:Al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Dl(e)):Al(e)}}function Dl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Ol(r,e)}Rl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:qa(8,t,t.return),Dl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Dl(t));break;default:Dl(t)}e=e.sibling}}function Ol(e,t){for(;null!==rl;){var n=rl;switch(n.tag){case 0:case 11:case 15:qa(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:qi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,rl=r;else e:for(n=e;null!==rl;){var i=(r=rl).sibling,o=r.return;if(sl(r),r===n){rl=null;break e}if(null!==i){i.return=o,rl=i;break e}rl=o}}}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Ll(e,t,n,r)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ul(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jl(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Fl(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Bl(n.children,i,o,t);case h:a=8,i|=24;break;case f:return(e=Ml(12,n,t,2|i)).elementType=f,e.lanes=o,e;case _:return(e=Ml(13,n,t,i)).elementType=_,e.lanes=o,e;case v:return(e=Ml(19,n,t,i)).elementType=v,e.lanes=o,e;case C:return ql(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:a=10;break e;case m:a=9;break e;case y:a=11;break e;case b:a=14;break e;case w:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Ml(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function ql(e,t,n,r){(e=Ml(22,e,r,t)).elementType=C,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0===(2&i._pendingVisibility)){var t=Ir(e,2);null!==t&&(i._pendingVisibility|=2,Dc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0!==(2&i._pendingVisibility)){var t=Ir(e,2);null!==t&&(i._pendingVisibility&=-3,Dc(t,e,2))}}};return e.stateNode=i,e}function Wl(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e){e.flags|=4}function Vl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Rd(t)){if(null!==(t=Ii.current)&&((4194176&ic)===ic?null!==Ri:(62914560&ic)!==ic&&0===(536870912&ic)||t!==Ri))throw hi=li,ai;e.flags|=8192}}function Kl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,gc|=t)}function Gl(e,t){if(!Qr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ba(ji),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?$l(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Jr&&(Lc(Jr),Jr=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?($l(t),null!==n?(Yl(t),Vl(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?($l(t),Yl(t),Vl(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==r&&$l(t),Yl(t),t.flags&=-16777217),null;case 27:ne(t),n=J.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yl(t),null}e=Y.current,ri(t)?ti(t):(e=ud(i,r,n),t.stateNode=e,$l(t))}return Yl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yl(t),null}if(e=Y.current,ri(t))ti(t);else{switch(i=Qu(J.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[ze]=t,e[Ue]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Ku(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$l(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=J.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Gr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Wu(e.nodeValue,n)))||ei(t)}else(e=Qu(e).createTextNode(r))[ze]=t,t.stateNode=e}return Yl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ze]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),i=!1}else null!==Jr&&(Lc(Jr),Jr=null),i=!0;if(!i)return 256&t.flags?(Oi(t),t):(Oi(t),null)}if(Oi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),Yl(t),null;case 4:return ee(),null===e&&Du(t.stateNode.containerInfo),Yl(t),null;case 10:return ba(t.type),Yl(t),null;case 19:if(K(Li),null===(i=t.memoizedState))return Yl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Gl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Mi(e))){for(t.flags|=128,Gl(i,!1),e=o.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ul(n,e),n=n.sibling;return G(Li,1&Li.current|2),t.child}e=e.sibling}null!==i.tail&&le()>wc&&(t.flags|=128,r=!0,Gl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Mi(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),Gl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Qr)return Yl(t),null}else 2*le()-i.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,Gl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Li.current,G(Li,r?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return Oi(t),xi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&Kl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(ji),Yl(t),null;case 25:return null}throw Error(s(156,t.tag))}function Jl(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba(ji),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Oi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Li),null;case 4:return ee(),null;case 10:return ba(t.type),null;case 22:case 23:return Oi(t),xi(),null!==e&&K(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ba(ji),null;default:return null}}function Xl(e,t){switch(Kr(t),t.tag){case 3:ba(ji),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Oi(t);break;case 19:K(Li);break;case 10:ba(t.type);break;case 22:case 23:Oi(t),xi(),null!==e&&K(Yi);break;case 24:ba(ji)}}var Zl={getCacheForType:function(e){var t=Ta(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ec="function"===typeof WeakMap?WeakMap:Map,tc=0,nc=null,rc=null,ic=0,oc=0,sc=null,ac=!1,lc=!1,cc=!1,uc=0,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=null,_c=null,vc=!1,bc=0,wc=1/0,Cc=null,Sc=null,kc=!1,Ec=null,Tc=0,Pc=0,xc=null,Ic=0,Rc=null;function Ac(){if(0!==(2&tc)&&0!==ic)return ic&-ic;if(null!==R.T){return 0!==$i?$i:Cu()}return Me()}function Nc(){0===mc&&(mc=0===(536870912&ic)||Qr?Ie():536870912);var e=Ii.current;return null!==e&&(e.flags|=32),mc}function Dc(e,t,n){(e===nc&&2===oc||null!==e.cancelPendingCommit)&&(Bc(e,0),zc(e,ic,mc,!1)),Ne(e,n),0!==(2&tc)&&e===nc||(e===nc&&(0===(2&tc)&&(fc|=n),4===dc&&zc(e,ic,mc,!1)),gu(e))}function Oc(e,t,n){if(0!==(6&tc))throw Error(s(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Pe(e,t),i=r?function(e,t){var n=tc;tc|=2;var r=Wc(),i=Hc();nc!==e||ic!==t?(Cc=null,wc=le()+500,Bc(e,t)):lc=Pe(e,t);e:for(;;)try{if(0!==oc&&null!==rc){t=rc;var o=sc;t:switch(oc){case 1:oc=0,sc=null,Jc(e,t,o,1);break;case 2:if(ci(o)){oc=0,sc=null,Qc(t);break}t=function(){2===oc&&nc===e&&(oc=7),gu(e)},o.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:ci(o)?(oc=0,sc=null,Qc(t)):(oc=0,sc=null,Jc(e,t,o,7));break;case 5:var a=null;switch(rc.tag){case 26:a=rc.memoizedState;case 5:case 27:var l=rc;if(!a||Rd(a)){oc=0,sc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,Xc(u)):rc=null}break t}}oc=0,sc=null,Jc(e,t,o,5);break;case 6:oc=0,sc=null,Jc(e,t,o,6);break;case 8:jc(),dc=6;break e;default:throw Error(s(462))}}Gc();break}catch(d){qc(e,d)}return _a=ya=null,R.H=r,R.A=i,tc=n,null!==rc?0:(nc=null,ic=0,Tr(),dc)}(e,t):Vc(e,t,!0),o=r;;){if(0===i){lc&&!r&&zc(e,t,0,!1);break}if(6===i)zc(e,t,0,!ac);else{if(n=e.current.alternate,o&&!Fc(n)){i=Vc(e,t,!1),o=!1;continue}if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Bc(l,a).flags|=256),2!==(a=Vc(l,a,!1))){if(cc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,i=4;break e}o=_c,_c=i,null!==o&&Lc(o)}i=a}if(o=!1,2!==i)continue}}if(1===i){Bc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(s(345));case 4:if((4194176&t)===t){zc(r,t,mc,!ac);break e}break;case 2:_c=null;break;case 3:case 5:break;default:throw Error(s(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(o=bc+300-le())){if(zc(r,t,mc,!ac),0!==Te(r,0))break e;r.timeoutHandle=td(Mc.bind(null,r,n,_c,Cc,vc,t,mc,fc,gc,ac,2,-0,0),o)}else Mc(r,n,_c,Cc,vc,t,mc,fc,gc,ac,0,-0,0)}}break}gu(e)}function Lc(e){null===_c?_c=e:_c.push.apply(_c,e)}function Mc(e,t,n,r,i,o,a,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Ad={stylesheets:null,count:0,unsuspend:Nd},Il(t),null!==(t=function(){if(null===Ad)throw Error(s(475));var e=Ad;return e.stylesheets&&0===e.count&&Ld(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(eu.bind(null,e,n,r,i,a,l,c,1,h,f)),void zc(e,o,a,!u);eu(e,n,r,i,a,l,c,d,h,f)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gn(o(),i))return!1}catch(gi){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~pc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-be(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&De(e,n,t)}function Uc(){return 0!==(6&tc)||(yu(0,!1),!1)}function jc(){if(null!==rc){if(0===oc)var e=rc.return;else _a=ya=null,vo(e=rc),pi=null,mi=0,e=rc;for(;null!==e;)Xl(e.alternate,e),e=e.return;rc=null}}function Bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,nd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),jc(),nc=e,rc=n=zl(e.current,null),ic=t,oc=0,sc=null,ac=!1,lc=Pe(e,t),cc=!1,gc=mc=pc=fc=hc=dc=0,_c=yc=null,vc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),o=1<<i;t|=e[i],r&=~o}return uc=t,Tr(),n}function qc(e,t){eo=null,R.H=Ts,t===si?(t=fi(),oc=3):t===ai?(t=fi(),oc=4):oc=t===Hs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===rc&&(dc=1,Us(e,Or(t,e.current)))}function Wc(){var e=R.H;return R.H=Ts,null===e?Ts:e}function Hc(){var e=R.A;return R.A=Zl,e}function $c(){dc=4,ac||(4194176&ic)!==ic&&null!==Ii.current||(lc=!0),0===(134217727&hc)&&0===(134217727&fc)||null===nc||zc(nc,ic,mc,!1)}function Vc(e,t,n){var r=tc;tc|=2;var i=Wc(),o=Hc();nc===e&&ic===t||(Cc=null,Bc(e,t)),t=!1;var s=dc;e:for(;;)try{if(0!==oc&&null!==rc){var a=rc,l=sc;switch(oc){case 8:jc(),s=6;break e;case 3:case 2:case 6:null===Ii.current&&(t=!0);var c=oc;if(oc=0,sc=null,Jc(e,a,l,c),n&&lc){s=0;break e}break;default:c=oc,oc=0,sc=null,Jc(e,a,l,c)}}Kc(),s=dc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,_a=ya=null,tc=r,R.H=i,R.A=o,null===rc&&(nc=null,ic=0,Tr()),s}function Kc(){for(;null!==rc;)Yc(rc)}function Gc(){for(;null!==rc&&!se();)Yc(rc)}function Yc(e){var t=ma(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?Xc(e):rc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ea(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=ea(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:vo(t);default:Xl(n,t),t=ma(n,t=rc=Ul(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):rc=t}function Jc(e,t,n,r){_a=ya=null,vo(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Sa(t,n,i,!0),null!==(n=Ii.current)){switch(n.tag){case 13:return null===Ri?$c():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ou(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ou(e,r,i)),!1}throw Error(s(435,n.tag))}return ou(e,r,i),$c(),!1}if(Qr)return null!==(t=Ii.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&oi(Or(e=Error(s(422),{cause:r}),n))):(r!==Zr&&oi(Or(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Or(r,n),La(e,i=Bs(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var o=Error(s(520),{cause:r});if(o=Or(o,n),null===yc?yc=[o]:yc.push(o),4!==dc&&(dc=2),null===t)return!0;r=Or(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,La(n,e=Bs(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Sc||!Sc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Ws(i=qs(i),e,n,r),La(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ic))return dc=1,Us(e,Or(n,e.current)),void(rc=null)}catch(gi){if(null!==i)throw rc=i,gi;return dc=1,Us(e,Or(n,e.current)),void(rc=null)}32768&t.flags?(Qr||1===r?e=!0:lc||0!==(536870912&ic)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ii.current)&&13===r.tag&&(r.flags|=16384))),Zc(t,e)):Xc(t)}function Xc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,ac);e=t.return;var n=Ql(t.alternate,t,uc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===dc&&(dc=5)}function Zc(e,t){do{var n=Jl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);dc=6,rc=null}function eu(e,t,n,r,i,o,a,l,c,u){var d=R.T,h=q.p;try{q.p=2,R.T=null,function(e,t,n,r,i,o,a,l){do{nu()}while(null!==Ec);if(0!==(6&tc))throw Error(s(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-be(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&De(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,r,u|=Er,o,a,l),e===nc&&(rc=nc=null,ic=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||kc||(kc=!0,Pc=u,xc=n,function(e,t){ie(e,t)}(he,(function(){return nu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=R.T,R.T=null,o=q.p,q.p=2,a=tc,tc|=4,function(e,t){if(e=e.containerInfo,Gu=$d,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},$d=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){switch(o=(t=rl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=Os(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(gi){iu(n,n.return,gi)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=il,il=!1}(e,c),ml(c,e),tr(Yu,e.containerInfo),$d=!!Gu,Yu=Gu=null,e.current=c,ol(e,c.alternate,c),ae(),tc=a,q.p=o,R.T=n):e.current=c,kc?(kc=!1,Ec=e,Tc=r):tu(e,u),u=e.pendingLanes,0===u&&(Sc=null),function(e){if(_e&&"function"===typeof _e.onCommitFiberRoot)try{_e.onCommitFiberRoot(ye,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&Tc)&&nu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Rc?Ic++:(Ic=0,Rc=e):Ic=0,yu(0,!1)}(e,t,n,r,h,i,o,a)}finally{R.T=d,q.p=h}}function tu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,qi(t)))}function nu(){if(null!==Ec){var e=Ec,t=Pc;Pc=0;var n=Le(Tc),r=R.T,i=q.p;try{if(q.p=32>n?32:n,R.T=null,null===Ec)var o=!1;else{n=xc,xc=null;var a=Ec,l=Tc;if(Ec=null,Tc=0,0!==(6&tc))throw Error(s(331));var c=tc;if(tc|=4,Nl(a.current),kl(a,a.current,l,n),tc=c,yu(0,!1),_e&&"function"===typeof _e.onPostCommitFiberRoot)try{_e.onPostCommitFiberRoot(ye,a)}catch(u){}o=!0}return o}finally{q.p=i,R.T=r,tu(e,t)}}return!1}function ru(e,t,n){t=Or(n,t),null!==(e=Da(e,t=Bs(e.stateNode,t,2),2))&&(Ne(e,2),gu(e))}function iu(e,t,n){if(3===e.tag)ru(e,e,n);else for(;null!==t;){if(3===t.tag){ru(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Or(n,e),null!==(r=Da(t,n=qs(2),2))&&(Ws(n,r,t,e),Ne(r,2),gu(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ec;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cc=!0,i.add(n),e=su.bind(null,e,t,n),t.then(e,e))}function su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nc===e&&(ic&n)===n&&(4===dc||3===dc&&(62914560&ic)===ic&&300>le()-bc?0===(2&tc)&&Bc(e,0):pc|=n,gc===ic&&(gc=0)),gu(e)}function au(e,t){0===t&&(t=Re()),null!==(e=Ir(e,t))&&(Ne(e,t),gu(e))}function lu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),au(e,n)}var uu=null,du=null,hu=!1,fu=!1,pu=!1,mu=0;function gu(e){var t;e!==du&&null===e.next&&(null===du?uu=du=e:du=du.next=e),fu=!0,hu||(hu=!0,t=_u,id((function(){0!==(6&tc)?ie(ue,t):t()})))}function yu(e,t){if(!pu&&fu){pu=!0;do{for(var n=!1,r=uu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-be(42|e)+1)-1,o=201326677&(o&=i&~(s&~a))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,wu(r,o))}else o=ic,0===(3&(o=Te(r,r===nc?o:0)))||Pe(r,o)||(n=!0,wu(r,o));r=r.next}}while(n);pu=!1}}function _u(){fu=hu=!1;var e=0;0!==mu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ed&&(ed=e,!0);return ed=null,!1}()&&(e=mu),mu=0);for(var t=le(),n=null,r=uu;null!==r;){var i=r.next,o=vu(r,t);0===o?(r.next=null,null===n?uu=i:n.next=i,null===i&&(du=n)):(n=r,(0!==e||0!==(3&o))&&(fu=!0)),r=i}yu(e,!1)}function vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-be(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=xe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=ic,n=Te(e,e===(t=nc)?n:0),r=e.callbackNode,0===n||e===t&&2===oc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Pe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(nu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=Te(e,e===nc?r:0))?null:(Oc(e,r,t),vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function wu(e,t){if(nu())return null;Oc(e,t,!0)}function Cu(){return 0===mu&&(mu=Ie()),mu}function Su(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function ku(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Eu=0;Eu<wr.length;Eu++){var Tu=wr[Eu];Cr(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}Cr(fr,"onAnimationEnd"),Cr(pr,"onAnimationIteration"),Cr(mr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(gr,"onTransitionRun"),Cr(yr,"onTransitionStart"),Cr(_r,"onTransitionCancel"),Cr(vr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Iu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(gi){Ls(gi)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(gi){Ls(gi)}i.currentTarget=null,o=l}}}}function Ru(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var r=e+"__bubble";n.has(r)||(Ou(t,e,2,!1),n.add(r))}function Au(e,t,n){var r=0;t&&(r|=4),Ou(n,e,r,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[Nu]){e[Nu]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(xu.has(t)||Au(t,!1,e),Au(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Nu]||(t[Nu]=!0,Au("selectionchange",!1,t))}}function Ou(e,t,n,r){switch(Xd(t)){case 2:var i=Vd;break;case 8:i=Kd;break;default:i=Gd}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Ke(a)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Mt((function(){var r=o,i=At(n),s=[];e:{var a=br.get(e);if(void 0!==a){var l=Xt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=sn;break;case vr:l=yn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=vn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===h||null!=(m=Ft(p,h))&&u.push(Mu(p,m,f)),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[je])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(d=F(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:Ye(l),f=null==c?a:Ye(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,Ke(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=zu(f))p++;for(f=0,m=h;m;m=zu(m))f++;for(;0<p-f;)u=zu(u),p--;for(;0<f-p;)h=zu(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=zu(u),h=zu(h)}u=null}else u=null;null!==l&&Uu(s,a,l,u,!1),null!==c&&null!==d&&Uu(s,d,c,u,!0)}if("select"===(l=(a=r?Ye(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Fn;else if(An(a))if(zn)g=Kn;else{g=$n;var y=Hn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(g=Fn):g=Vn;switch(g&&(g=g(e,r))?Nn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&_t(a,"number",a.value)),y=r?Ye(r):window,e){case"focusin":(An(y)||"true"===y.contentEditable)&&(rr=y,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var _;if(wn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else In?Pn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(kn&&"ko"!==n.locale&&(In||"onCompositionStart"!==v?"onCompositionEnd"===v&&In&&(_=Wt()):(Bt="value"in(jt=i)?jt.value:jt.textContent,In=!0)),0<(y=Fu(r,v)).length&&(v=new ln(v,e,null,n,i),s.push({event:v,listeners:y}),_?v.data=_:null!==(_=xn(n))&&(v.data=_))),(_=Sn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!wn&&Pn(e,t)?(e=Wt(),qt=Bt=jt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Fu(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,i),s.push({event:y,listeners:v}),y.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Su((i[Ue]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ue]||null)?Su(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Xt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==mu){var e=s?ku(i,s):new FormData(i);hs(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?ku(i,s):new FormData(i),hs(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Iu(s,t)}))}function Mu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ft(e,n))&&r.unshift(Mu(e,i,o)),null!=(i=Ft(e,t))&&r.push(Mu(e,i,o))),e=e.return}return r}function zu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uu(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ft(n,o))&&s.unshift(Mu(n,c,l)):i||null!=(c=Ft(n,o))&&s.push(Mu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ju=/\r\n?/g,Bu=/\u0000|\uFFFD/g;function qu(e){return("string"===typeof e?e:""+e).replace(ju,"\n").replace(Bu,"")}function Wu(e,t){return t=qu(t),qu(e)===t}function Hu(){}function $u(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":Et(e,r,o);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&$u(e,t,"name",i.name,i,null),$u(e,t,"formEncType",i.formEncType,i,null),$u(e,t,"formMethod",i.formMethod,i,null),$u(e,t,"formTarget",i.formTarget,i,null)):($u(e,t,"encType",i.encType,i,null),$u(e,t,"method",i.method,i,null),$u(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ru("beforetoggle",e),Ru("toggle",e),st(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Pt.get(n)||n,r)}}function Vu(e,t,n,r,i,o){switch(n){case"style":Et(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ue]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Ku(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ru("error",e),Ru("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,r,a,n,null)}}return o&&$u(e,t,"srcSet",n.srcSet,n,null),void(i&&$u(e,t,"src",n.src,n,null));case"input":Ru("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:$u(e,t,i,d,n,null)}}return yt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Ru("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:$u(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?vt(e,!!i,t,!1):null!=n&&vt(e,!!i,n,!0));case"textarea":for(a in Ru("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:$u(e,t,a,l,n,null)}return wt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else $u(e,t,c,i,n,null);return;case"dialog":Ru("cancel",e),Ru("close",e);break;case"iframe":case"object":Ru("load",e);break;case"video":case"audio":for(i=0;i<Pu.length;i++)Ru(Pu[i],e);break;case"image":Ru("error",e),Ru("load",e);break;case"details":Ru("toggle",e);break;case"embed":case"source":case"link":Ru("error",e),Ru("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Vu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&$u(e,t,l,i,n,null))}var Gu=null,Yu=null;function Qu(e){return 9===e.nodeType?e:e.ownerDocument}function Ju(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ed=null;var td="function"===typeof setTimeout?setTimeout:void 0,nd="function"===typeof clearTimeout?clearTimeout:void 0,rd="function"===typeof Promise?Promise:void 0,id="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rd?function(e){return rd.resolve(null).then(e).catch(od)}:td;function od(e){setTimeout((function(){throw e}))}function sd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void gh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);gh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function cd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function ud(e,t,n){switch(t=Qu(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}var dd=new Map,hd=new Set;function fd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pd=q.d;q.d={f:function(){var e=pd.f(),t=Uc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ps(t):pd.r(e)},D:function(e){pd.D(e),gd("dns-prefetch",e,null)},C:function(e,t){pd.C(e,t),gd("preconnect",e,t)},L:function(e,t,n){pd.L(e,t,n);var r=md;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=_d(e);break;case"script":o=wd(e)}dd.has(o)||(e=A({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),dd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(vd(o))||"script"===t&&r.querySelector(Cd(o))||(Ku(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){pd.m(e,t);var n=md;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=wd(e)}if(!dd.has(o)&&(e=A({rel:"modulepreload",href:e},t),dd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cd(o)))return}Ku(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){pd.X(e,t);var n=md;if(n&&e){var r=Qe(n).hoistableScripts,i=wd(e),o=r.get(i);o||((o=n.querySelector(Cd(i)))||(e=A({src:e,async:!0},t),(t=dd.get(i))&&Td(e,t),Je(o=n.createElement("script")),Ku(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){pd.S(e,t,n);var r=md;if(r&&e){var i=Qe(r).hoistableStyles,o=_d(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(vd(o)))a.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=dd.get(o))&&Ed(e,n);var l=s=r.createElement("link");Je(l),Ku(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,kd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){pd.M(e,t);var n=md;if(n&&e){var r=Qe(n).hoistableScripts,i=wd(e),o=r.get(i);o||((o=n.querySelector(Cd(i)))||(e=A({src:e,async:!0,type:"module"},t),(t=dd.get(i))&&Td(e,t),Je(o=n.createElement("script")),Ku(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var md="undefined"===typeof document?null:document;function gd(e,t,n){var r=md;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hd.has(i)||(hd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Ku(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function yd(e,t,n,r){var i,o,a,l,c=(c=J.current)?fd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=_d(n.href),(r=(n=Qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=_d(n.href);var u=Qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(vd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),dd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},dd.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),Ku(o,"link",a),Je(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(n),(r=(n=Qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function _d(e){return'href="'+mt(e)+'"'}function vd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+mt(e)+'"]'}function Cd(e){return"script[async]"+e}function Sd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Je(r),r;var i=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(r=(e.ownerDocument||e).createElement("style")),Ku(r,"style",i),kd(r,n.precedence,e),t.instance=r;case"stylesheet":i=_d(n.href);var o=e.querySelector(vd(i));if(o)return t.state.loading|=4,t.instance=o,Je(o),o;r=bd(n),(i=dd.get(i))&&Ed(r,i),Je(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Ku(o,"link",r),t.state.loading|=4,kd(o,n.precedence,e),t.instance=o;case"script":return o=wd(n.src),(i=e.querySelector(Cd(o)))?(t.instance=i,Je(i),i):(r=n,(i=dd.get(o))&&Td(r=A({},n),i),Je(i=(e=e.ownerDocument||e).createElement("script")),Ku(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,kd(r,n.precedence,e));return t.instance}function kd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Pd=null;function xd(e,t,n){if(null===Pd){var r=new Map,i=Pd=new Map;i.set(n,r)}else(r=(i=Pd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[$e]||o[ze]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Rd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ad=null;function Nd(){}function Dd(){if(this.count--,0===this.count)if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Od=null;function Ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Od=new Map,t.forEach(Md,e),Od=null,Dd.call(e))}function Md(e,t){if(!(4&t.state.loading)){var n=Od.get(e);if(n)var r=n.get(null);else{n=new Map,Od.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Dd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Fd={$$typeof:g,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function zd(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Ud(e,t,n,r,i,o,s,a,l,c,u,d){return e=new zd(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Ml(3,null,null,t),e.current=o,o.stateNode=e,(t=Bi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Ra(o),e}function jd(e){return e?e=Nr:Nr}function Bd(e,t,n,r,i,o){i=jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=Na(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=Da(e,r,t))&&(Dc(n,0,t),Oa(n,e,t))}function qd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wd(e,t){qd(e,t),(e=e.alternate)&&qd(e,t)}function Hd(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Dc(t,0,67108864),Wd(e,67108864)}}var $d=!0;function Vd(e,t,n,r){var i=R.T;R.T=null;var o=q.p;try{q.p=2,Gd(e,t,n,r)}finally{q.p=o,R.T=i}}function Kd(e,t,n,r){var i=R.T;R.T=null;var o=q.p;try{q.p=8,Gd(e,t,n,r)}finally{q.p=o,R.T=i}}function Gd(e,t,n,r){if($d){var i=Yd(r);if(null===i)Lu(e,t,r,Qd,n),ah(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return eh=lh(eh,e,t,n,r,i),!0;case"dragenter":return th=lh(th,e,t,n,r,i),!0;case"mouseover":return nh=lh(nh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return rh.set(o,lh(rh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ih.set(o,lh(ih.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<sh.indexOf(e)){for(;null!==i;){var o=Ge(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Ee(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-be(s);a.entanglements[1]|=l,s&=~l}gu(o),0===(6&tc)&&(wc=le()+500,yu(0,!1))}}break;case 13:null!==(a=Ir(o,2))&&Dc(a,0,2),Uc(),Wd(o,2)}if(null===(o=Yd(r))&&Lu(e,t,r,Qd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Lu(e,t,r,null,n)}}function Yd(e){return Jd(e=At(e))}var Qd=null;function Jd(e){if(Qd=null,null!==(e=Ke(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=z(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qd=e,null}function Xd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Zd=!1,eh=null,th=null,nh=null,rh=new Map,ih=new Map,oh=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":eh=null;break;case"dragenter":case"dragleave":th=null;break;case"mouseover":case"mouseout":nh=null;break;case"pointerover":case"pointerout":rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(t.pointerId)}}function lh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&Hd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function ch(e){var t=Ke(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=z(n)))return e.blockedOn=t,void function(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}(e.priority,(function(){if(13===n.tag){var e=Ac(),t=Ir(n,e);null!==t&&Dc(t,0,e),Wd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&Hd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function dh(e,t,n){uh(e)&&n.delete(t)}function hh(){Zd=!1,null!==eh&&uh(eh)&&(eh=null),null!==th&&uh(th)&&(th=null),null!==nh&&uh(nh)&&(nh=null),rh.forEach(dh),ih.forEach(dh)}function fh(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hh)))}var ph=null;function mh(e){ph!==e&&(ph=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Jd(r||n))continue;break}var o=Ge(n);null!==o&&(e.splice(t,3),t-=3,hs(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function gh(e){function t(t){return fh(t,e)}null!==eh&&fh(eh,e),null!==th&&fh(th,e),null!==nh&&fh(nh,e),rh.forEach(t),ih.forEach(t);for(var n=0;n<oh.length;n++){var r=oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<oh.length&&null===(n=oh[0]).blockedOn;)ch(n),null===n.blockedOn&&oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ue]||null;if("function"===typeof o)s||mh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ue]||null)a=s.formAction;else if(null!==Jd(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),mh(n)}}}function yh(e){this._internalRoot=e}function _h(e){this._internalRoot=e}_h.prototype.render=yh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bd(t.current,Ac(),e,t,null,null)},_h.prototype.unmount=yh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&nu(),Bd(e.current,2,null,e,null,null),Uc(),t[je]=null}},_h.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oh.length&&0!==t&&t<oh[n].priority;n++);oh.splice(n,0,e),0===n&&ch(e)}};var vh=i.version;if("19.0.0"!==vh)throw Error(s(527,vh,"19.0.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return U(i),e;if(o===r)return U(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?j(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ye=wh.inject(bh),_e=wh}catch(Sh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Ms,o=Fs,l=zs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ud(e,1,!1,null,0,n,r,i,o,l,0,null),e[je]=t.current,Du(8===e.nodeType?e.parentNode:e),new yh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Ms,l=Fs,c=zs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Ud(e,1,!0,t,0,r,i,o,l,c,0,u)).context=jd(null),n=t.current,(i=Na(r=Ac())).callback=null,Da(n,i,r),t.current.lanes=r,Ne(t,r),gu(t),e[je]=t.current,Du(e),new _h(t)},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function _(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=y.prototype;var b=v.prototype=new _;b.constructor=v,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function k(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(){}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return I((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+P(e,0):o,w(s)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),I(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=I(o=e[m],t,i,a=p+P(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=I(o=o.value,t,i,a=p+P(o,m++),s);else if("object"===a){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return k(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,N)}catch(gi){N(gi)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.0.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element");function r(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},824:e=>{const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substring(e.indexOf(" ")+1).split(";");for(let i=0;i<r.length;i++)n=r[i].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let o=3;o<r.length;o++){const i=r[o],s=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(s){const r=t.parseRtpMap(s),o=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(r.parameters=o.length?t.parseFmtp(o[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))}));const i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach((e=>{i.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),a=s.length>0&&s[0].ssrc;let l;const c=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));c.length>0&&c[0].length>1&&c[0][0]===a&&(l=c[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&l&&(t.rtx={ssrc:l}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:a,mechanism:o?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&a&&n.push({ssrc:a});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substring(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=u}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substring(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};const s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){const e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){let i;const o=void 0!==n?n:2;i=e||t.generateSessionId();return"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let t=0;t<r.length;t++)switch(r[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[t].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,A();else{var t=r(u);null!==t&&N(w,t.startTime-e)}}var C,S=!1,k=-1,E=5,T=-1;function P(){return!(t.unstable_now()-T<E)}function x(){if(S){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,_(k),k=-1),p=!0;var o=f;try{t:{for(b(e),h=r(c);null!==h&&!(h.expirationTime>e&&P());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,b(e),n=!0;break t}h===r(c)&&i(c),b(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(w,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?C():S=!1}}}if("function"===typeof v)C=function(){v(x)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=x,C=function(){R.postMessage(null)}}else C=function(){y(x,0)};function A(){S||(S=!0,C())}function N(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(_(k),k=-1):g=!0,N(w,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,A())),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".f357643f.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="call:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcall=self.webpackChunkcall||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{fixNegotiationNeeded:()=>L,shimAddTrackRemoveTrack:()=>D,shimAddTrackRemoveTrackWithNative:()=>N,shimGetSendersWithDtmf:()=>R,shimGetUserMedia:()=>P,shimMediaStream:()=>x,shimOnTrack:()=>I,shimPeerConnection:()=>O,shimSenderReceiverGetStats:()=>A});var i={};n.r(i),n.d(i,{shimAddTransceiver:()=>H,shimCreateAnswer:()=>K,shimCreateOffer:()=>V,shimGetDisplayMedia:()=>F,shimGetParameters:()=>$,shimGetUserMedia:()=>M,shimOnTrack:()=>z,shimPeerConnection:()=>U,shimRTCDataChannel:()=>W,shimReceiverGetStats:()=>B,shimRemoveStream:()=>q,shimSenderGetStats:()=>j});var o={};n.r(o),n.d(o,{shimAudioContext:()=>ne,shimCallbacksAPI:()=>Q,shimConstraints:()=>X,shimCreateOfferLegacy:()=>te,shimGetUserMedia:()=>J,shimLocalStreamsAPI:()=>G,shimRTCIceServerUrls:()=>Z,shimRemoteStreamsAPI:()=>Y,shimTrackEventTransceiver:()=>ee});var s={};n.r(s),n.d(s,{removeExtmapAllowMixed:()=>ue,shimAddIceCandidateNullOrEmpty:()=>de,shimConnectionState:()=>ce,shimMaxMessageSize:()=>ae,shimParameterlessSetLocalDescription:()=>he,shimRTCIceCandidate:()=>oe,shimRTCIceCandidateRelayProtocol:()=>se,shimSendThrowTypeError:()=>le});var a=n(43),l=n(391);class c{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return function(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e){const e=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);n.set(e,r),r+=i.byteLength}return n}(e).buffer}}function u(e){return new h(e).unpack()}function d(e){const t=new f,n=t.pack(e);return n instanceof Promise?n.then((()=>t.getBuffer())):t.getBuffer()}class h{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((224^e)<32)return(224^e)-32;let t;if((t=160^e)<=15)return this.unpack_raw(t);if((t=176^e)<=15)return this.unpack_string(t);if((t=144^e)<=15)return this.unpack_array(t);if((t=128^e)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=255&this.dataView[this.index];return this.index++,e}unpack_uint16(){const e=this.read(2),t=256*(255&e[0])+(255&e[1]);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=256*(256*(256*e[0]+e[1])+e[2])+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=256*(256*(256*(256*(256*(256*(256*e[0]+e[1])+e[2])+e[3])+e[4])+e[5])+e[6])+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let n,r,i=0,o="";for(;i<e;)n=t[i],n<160?(r=n,i++):(192^n)<32?(r=(31&n)<<6|63&t[i+1],i+=2):(224^n)<16?(r=(15&n)<<12|(63&t[i+1])<<6|63&t[i+2],i+=3):(r=(7&n)<<18|(63&t[i+1])<<12|(63&t[i+2])<<6|63&t[i+3],i+=4),o+=String.fromCodePoint(r);return this.index+=e,o}unpack_array(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=this.unpack();return t}unpack_map(e){const t={};for(let n=0;n<e;n++){t[this.unpack()]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32();return(0===e>>31?1:-1)*(8388607&e|8388608)*2**((e>>23&255)-127-23)}unpack_double(){const e=this.unpack_uint32(),t=(e>>20&2047)-1023;return(0===e>>31?1:-1)*((1048575&e|1048576)*2**(t-20)+this.unpack_uint32()*2**(t-52))}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class f{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if("string"===typeof e)this.pack_string(e);else if("number"===typeof e)Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if("boolean"===typeof e)!0===e?this._bufferBuilder.append(195):!1===e&&this._bufferBuilder.append(194);else if(void 0===e)this._bufferBuilder.append(192);else{if("object"!==typeof e)throw new Error(`Type "${typeof e}" not yet supported`);if(null===e)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const t=this.pack_array(e);if(t instanceof Promise)return t.then((()=>this._bufferBuilder.flush()))}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const t=e;this.pack_bin(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then((e=>{this.pack_bin(new Uint8Array(e)),this._bufferBuilder.flush()}));if(t!=Object&&!t.toString().startsWith("class"))throw new Error(`Type "${t.toString()}" not yet supported`);{const t=this.pack_object(e);if(t instanceof Promise)return t.then((()=>this._bufferBuilder.flush()))}}}}this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this._bufferBuilder.append(219),this.pack_uint32(t)}this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),n=t.length;if(n<=15)this.pack_uint8(176+n);else if(n<=65535)this._bufferBuilder.append(216),this.pack_uint16(n);else{if(!(n<=4294967295))throw new Error("Invalid length");this._bufferBuilder.append(217),this.pack_uint32(n)}this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this._bufferBuilder.append(221),this.pack_uint32(t)}const n=r=>{if(r<t){const t=this.pack(e[r]);return t instanceof Promise?t.then((()=>n(r+1))):n(r+1)}};return n(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(255&e);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-0x8000000000000000&&e<=0x8000000000000000)this._bufferBuilder.append(211),this.pack_int64(e);else{if(!(e>=0&&e<=0x10000000000000000))throw new Error("Invalid integer");this._bufferBuilder.append(207),this.pack_uint64(e)}}pack_double(e){let t=0;e<0&&(t=1,e=-e);const n=Math.floor(Math.log(e)/Math.LN2),r=e/2**n-1,i=Math.floor(r*2**52),o=2**32,s=t<<31|n+1023<<20|i/o&1048575,a=i%o;this._bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(a)}pack_object(e){const t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this._bufferBuilder.append(222),this.pack_uint16(n);else{if(!(n<=4294967295))throw new Error("Invalid length");this._bufferBuilder.append(223),this.pack_uint32(n)}const r=n=>{if(n<t.length){const i=t[n];if(e.hasOwnProperty(i)){this.pack(i);const t=this.pack(e[i]);if(t instanceof Promise)return t.then((()=>r(n+1)))}return r(n+1)}};return r(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(255&e)}pack_uint32(e){const t=4294967295&e;this._bufferBuilder.append((4278190080&t)>>>24),this._bufferBuilder.append((16711680&t)>>>16),this._bufferBuilder.append((65280&t)>>>8),this._bufferBuilder.append(255&t)}pack_uint64(e){const t=e/2**32,n=e%2**32;this._bufferBuilder.append((4278190080&t)>>>24),this._bufferBuilder.append((16711680&t)>>>16),this._bufferBuilder.append((65280&t)>>>8),this._bufferBuilder.append(255&t),this._bufferBuilder.append((4278190080&n)>>>24),this._bufferBuilder.append((16711680&n)>>>16),this._bufferBuilder.append((65280&n)>>>8),this._bufferBuilder.append(255&n)}pack_int8(e){this._bufferBuilder.append(255&e)}pack_int16(e){this._bufferBuilder.append((65280&e)>>8),this._bufferBuilder.append(255&e)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((16711680&e)>>>16),this._bufferBuilder.append((65280&e)>>>8),this._bufferBuilder.append(255&e)}pack_int64(e){const t=Math.floor(e/2**32),n=e%2**32;this._bufferBuilder.append((4278190080&t)>>>24),this._bufferBuilder.append((16711680&t)>>>16),this._bufferBuilder.append((65280&t)>>>8),this._bufferBuilder.append(255&t),this._bufferBuilder.append((4278190080&n)>>>24),this._bufferBuilder.append((16711680&n)>>>16),this._bufferBuilder.append((65280&n)>>>8),this._bufferBuilder.append(255&n)}constructor(){this._bufferBuilder=new c,this._textEncoder=new TextEncoder}}let p=!0,m=!0;function g(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function y(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function _(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(p=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function v(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(m=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function b(){if("object"===typeof window){if(p)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function w(e,t){m&&console.warn(e+" is deprecated, please use "+t+" instead.")}function C(e){return"[object Object]"===Object.prototype.toString.call(e)}function S(e){return C(e)?Object.keys(e).reduce((function(t,n){const r=C(e[n]),i=r?S(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})}),{}):e}function k(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?k(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{k(e,e.get(t),n)}))})))}function E(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&k(e,n,i)}))})),i}const T=b;function P(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"===typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===typeof e.video){let o=e.video.facingMode;o=o&&("object"===typeof o?o:{ideal:o});const s=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||s)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let s=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!s&&n.length&&t.includes("back")&&(s=n[n.length-1]),s&&(e.video.deviceId=o.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=r(e.video),T("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return T("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(o(e))))))}}}function x(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function I(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else y(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function R(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function A(e){if(!("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>E(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),y(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>E(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function N(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function D(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return N(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=a.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function O(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function L(e,t){y(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}function M(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){w("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"===typeof n&&"object"===typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"===typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function F(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function z(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function U(e,t){if("object"!==typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(r){if("TypeError"!==r.name)throw r;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,o)}}function j(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function B(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),y(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function q(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){w("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function W(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function H(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function $(e){if("object"!==typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function V(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function K(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function G(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function Y(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function Q(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let a=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=a,a=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=a,a=function(e,t,n){const r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=a}function J(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(X(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function X(e){return e&&void 0!==e.video?Object.assign({},e,{video:S(e.video)}):e}function Z(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];void 0===r.urls&&r.url?(w("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function ee(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function te(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function ne(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var re=n(824),ie=n.n(re);function oe(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const n=new t(e),r=ie().parseCandidate(e.candidate);for(const e in r)e in n||Object.defineProperty(n,e,{value:r[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,y(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function se(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||y(e,"icecandidate",(e=>{if(e.candidate){const t=ie().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function ae(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=ie().splitSections(e.sdp);return t.shift(),t.some((e=>{const t=ie().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!==n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),r=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=ie().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],e);let i;i=0===n&&0===r?Number.POSITIVE_INFINITY:0===n||0===r?Math.max(n,r):Math.min(n,r);const o={};Object.defineProperty(o,"maxMessageSize",{get:()=>i}),this._sctp=o}return n.apply(this,arguments)}}function le(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},y(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function ce(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function ue(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function de(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function he(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!==typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}if(e.sdp||"offer"!==e.type&&"answer"!==e.type)return n.apply(this,[e]);return("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}const fe=function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=b,a=function(e){const t={browser:null,version:null};if("undefined"===typeof e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const e=n.userAgentData.brands.find((e=>"Chromium"===e.brand));if(e)return{browser:"chrome",version:parseInt(e.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=g(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=g(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=g(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),l={browserDetails:a,commonShim:s,extractVersion:g,disableLog:_,disableWarnings:v,sdp:re};switch(a.browser){case"chrome":if(!r||!O||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),l;if(null===a.version)return n("Chrome shim can not determine version, not shimming."),l;n("adapter.js shimming chrome."),l.browserShim=r,de(e,a),he(e),P(e,a),x(e),O(e,a),I(e),D(e,a),R(e),A(e),L(e,a),oe(e),se(e),ce(e),ae(e,a),le(e),ue(e,a);break;case"firefox":if(!i||!U||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),l;n("adapter.js shimming firefox."),l.browserShim=i,de(e,a),he(e),M(e,a),U(e,a),z(e),q(e),j(e),B(e),W(e),H(e),$(e),V(e),K(e),oe(e),ce(e),ae(e,a),le(e);break;case"safari":if(!o||!t.shimSafari)return n("Safari shim is not included in this adapter release."),l;n("adapter.js shimming safari."),l.browserShim=o,de(e,a),he(e),Z(e),te(e),Q(e),G(e),Y(e),ee(e),J(e),ne(e),oe(e),se(e),ae(e,a),le(e),ue(e,a);break;default:n("Unsupported browser!")}return l}({window:"undefined"===typeof window?void 0:window}),pe=fe;var me,ge,ye,_e=4294967295;function ve(e,t,n){var r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function be(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var we=("undefined"===typeof process||"never"!==(null===(me=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD3DPOExI8Px9lYK_8sIBxHlSazQUhxIRg",REACT_APP_FIREBASE_AUTH_DOMAIN:"seeyounow-34bdb.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"seeyounow-34bdb",REACT_APP_FIREBASE_STORAGE_BUCKET:"seeyounow-34bdb.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"536454714500",REACT_APP_FIREBASE_APP_ID:"1:536454714500:web:637c3a4554c7fd3e695ed1",REACT_APP_FIREBASE_MEASUREMENT_ID:"yG-6W89G6L3XE",REACT_APP_FIREBASE_DATABASE_URL:"https://seeyounow-34bdb-default-rtdb.firebaseio.com/"})||void 0===me?void 0:me.TEXT_ENCODING))&&"undefined"!==typeof TextEncoder&&"undefined"!==typeof TextDecoder;function Ce(e){for(var t=e.length,n=0,r=0;r<t;){var i=e.charCodeAt(r++);if(0!==(4294967168&i))if(0===(4294965248&i))n+=2;else{if(i>=55296&&i<=56319&&r<t){var o=e.charCodeAt(r);56320===(64512&o)&&(++r,i=((1023&i)<<10)+(1023&o)+65536)}n+=0===(4294901760&i)?3:4}else n++}return n}var Se=we?new TextEncoder:void 0,ke=we?"undefined"!==typeof process&&"force"!==(null===(ge=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD3DPOExI8Px9lYK_8sIBxHlSazQUhxIRg",REACT_APP_FIREBASE_AUTH_DOMAIN:"seeyounow-34bdb.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"seeyounow-34bdb",REACT_APP_FIREBASE_STORAGE_BUCKET:"seeyounow-34bdb.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"536454714500",REACT_APP_FIREBASE_APP_ID:"1:536454714500:web:637c3a4554c7fd3e695ed1",REACT_APP_FIREBASE_MEASUREMENT_ID:"yG-6W89G6L3XE",REACT_APP_FIREBASE_DATABASE_URL:"https://seeyounow-34bdb-default-rtdb.firebaseio.com/"})||void 0===ge?void 0:ge.TEXT_ENCODING)?200:0:_e;var Ee=(null===Se||void 0===Se?void 0:Se.encodeInto)?function(e,t,n){Se.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(Se.encode(e),n)};function Te(e,t,n){for(var r=t,i=r+n,o=[],s="";r<i;){var a=e[r++];if(0===(128&a))o.push(a);else if(192===(224&a)){var l=63&e[r++];o.push((31&a)<<6|l)}else if(224===(240&a)){l=63&e[r++];var c=63&e[r++];o.push((31&a)<<12|l<<6|c)}else if(240===(248&a)){var u=(7&a)<<18|(l=63&e[r++])<<12|(c=63&e[r++])<<6|63&e[r++];u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u)}else o.push(a);o.length>=4096&&(s+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(s+=String.fromCharCode.apply(String,o)),s}var Pe=we?new TextDecoder:null,xe=we?"undefined"!==typeof process&&"force"!==(null===(ye=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD3DPOExI8Px9lYK_8sIBxHlSazQUhxIRg",REACT_APP_FIREBASE_AUTH_DOMAIN:"seeyounow-34bdb.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"seeyounow-34bdb",REACT_APP_FIREBASE_STORAGE_BUCKET:"seeyounow-34bdb.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"536454714500",REACT_APP_FIREBASE_APP_ID:"1:536454714500:web:637c3a4554c7fd3e695ed1",REACT_APP_FIREBASE_MEASUREMENT_ID:"yG-6W89G6L3XE",REACT_APP_FIREBASE_DATABASE_URL:"https://seeyounow-34bdb-default-rtdb.firebaseio.com/"})||void 0===ye?void 0:ye.TEXT_DECODER)?200:0:_e;var Ie=function(e,t){this.type=e,this.data=t},Re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=function(e){function t(n){var r=e.call(this,n)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(r,i),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return Re(t,e),t}(Error);var Ne={type:-1,encode:function(e){return e instanceof Date?function(e){var t,n=e.sec,r=e.nsec;if(n>=0&&r>=0&&n<=17179869183){if(0===r&&n<=4294967295){var i=new Uint8Array(4);return(t=new DataView(i.buffer)).setUint32(0,n),i}var o=n/4294967296,s=4294967295&n;return i=new Uint8Array(8),(t=new DataView(i.buffer)).setUint32(0,r<<2|3&o),t.setUint32(4,s),i}return i=new Uint8Array(12),(t=new DataView(i.buffer)).setUint32(0,r),ve(t,4,n),i}(function(e){var t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}(e)):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:be(t,4),nsec:t.getUint32(0)};default:throw new Ae("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},De=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Ne)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var i=1+t;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++){if(null!=(r=this.builtInEncoders[n]))if(null!=(i=r(e,t)))return new Ie(-1-n,i)}for(n=0;n<this.encoders.length;n++){var r,i;if(null!=(r=this.encoders[n]))if(null!=(i=r(e,t)))return new Ie(n,i)}return e instanceof Ie?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new Ie(t,e)},e.defaultCodec=new e,e}();function Oe(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}!function(){function e(e,t,n,r,i,o,s,a){void 0===e&&(e=De.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=i,this.forceFloat32=o,this.ignoreUndefined=s,this.forceIntegerToFloat=a,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>ke){var t=Ce(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),Ee(e,this.bytes,this.pos),this.pos+=t}else{t=Ce(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,i=n,o=0;o<r;){var s=e.charCodeAt(o++);if(0!==(4294967168&s)){if(0===(4294965248&s))t[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<r){var a=e.charCodeAt(o);56320===(64512&a)&&(++o,s=((1023&s)<<10)+(1023&a)+65536)}0===(4294901760&s)?(t[i++]=s>>12&15|224,t[i++]=s>>6&63|128):(t[i++]=s>>18&7|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128)}t[i++]=63&s|128}else t[i++]=s}}(e,this.bytes,this.pos),this.pos+=t}},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var n=Oe(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(var r=0,i=e;r<i.length;r++){var o=i[r];this.doEncode(o,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var n=0,r=0,i=t;r<i.length;r++){void 0!==e[i[r]]&&n++}return n},e.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var i=0,o=n;i<o.length;i++){var s=o[i],a=e[s];this.ignoreUndefined&&void 0===a||(this.encodeString(s),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),ve(this.view,this.pos,e),this.pos+=8}}();function Le(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var Me=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){e:for(var r=0,i=this.caches[n-1];r<i.length;r++){for(var o=i[r],s=o.bytes,a=0;a<n;a++)if(s[a]!==e[t+a])continue e;return o.str}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var i=Te(e,t,n),o=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(o,i),i},e}(),Fe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},ze=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ue=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},je=function(e){return this instanceof je?(this.v=e,this):new je(e)},Be=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof je?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(r){u(o[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},qe=function(e){var t=typeof e;return"string"===t||"number"===t},We=new DataView(new ArrayBuffer(0)),He=new Uint8Array(We.buffer),$e=function(){try{We.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),Ve=new $e("Insufficient data"),Ke=new Me;!function(){function e(e,t,n,r,i,o,s,a){void 0===e&&(e=De.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=_e),void 0===r&&(r=_e),void 0===i&&(i=_e),void 0===o&&(o=_e),void 0===s&&(s=_e),void 0===a&&(a=Ke),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=i,this.maxMapLength=o,this.maxExtLength=s,this.keyDecoder=a,this.totalPos=0,this.pos=0,this.view=We,this.bytes=He,this.headByte=-1,this.stack=[]}e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=Oe(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=Oe(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=Oe(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return ze(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,i;return Fe(this,void 0,void 0,(function(){var o,s,a,l,c,u,d,h;return ze(this,(function(f){switch(f.label){case 0:o=!1,f.label=1;case 1:f.trys.push([1,6,7,12]),t=Ue(e),f.label=2;case 2:return[4,t.next()];case 3:if((n=f.sent()).done)return[3,5];if(a=n.value,o)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{s=this.doDecodeSync(),o=!0}catch(p){if(!(p instanceof $e))throw p}this.totalPos+=this.pos,f.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return l=f.sent(),r={error:l},[3,12];case 7:return f.trys.push([7,,10,11]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,9];case 8:f.sent(),f.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(o){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,s]}throw u=(c=this).headByte,d=c.pos,h=c.totalPos,new RangeError("Insufficient data in parsing ".concat(Le(u)," at ").concat(h," (").concat(d," in the current buffer)"))}}))}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return Be(this,arguments,(function(){var n,r,i,o,s,a,l,c,u;return ze(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),i=Ue(e),d.label=2;case 2:return[4,je(i.next())];case 3:if((o=d.sent()).done)return[3,12];if(s=o.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,je(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0===--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((a=d.sent())instanceof $e))throw a;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return l=d.sent(),c={error:l},[3,19];case 14:return d.trys.push([14,,17,18]),o&&!o.done&&(u=i.return)?[4,je(u.call(i))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(c)throw c.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!==(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!==(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e){n=this.lookU8();t=this.decodeUtf8String(n,1)}else if(218===e){n=this.lookU16();t=this.decodeUtf8String(n,2)}else if(219===e){n=this.lookU32();t=this.decodeUtf8String(n,4)}else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e){r=this.lookU16();t=this.decodeBinary(r,2)}else if(198===e){r=this.lookU32();t=this.decodeBinary(r,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){r=this.lookU8();t=this.decodeExtension(r,1)}else if(200===e){r=this.lookU16();t=this.decodeExtension(r,2)}else{if(201!==e)throw new Ae("Unrecognized type byte: ".concat(Le(e)));r=this.lookU32();t=this.decodeExtension(r,4)}this.complete();for(var i=this.stack;i.length>0;){var o=i[i.length-1];if(0===o.type){if(o.array[o.position]=t,o.position++,o.position!==o.size)continue e;i.pop(),t=o.array}else{if(1===o.type){if(!qe(t))throw new Ae("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new Ae("The key __proto__ is not allowed");o.key=t,o.type=2;continue e}if(o.map[o.key]=t,o.readCount++,o.readCount!==o.size){o.key=null,o.type=1;continue e}i.pop(),t=o.map}}return t}},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new Ae("Unrecognized array type byte: ".concat(Le(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new Ae("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new Ae("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new Ae("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw Ve;var r,i=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,i,e):e>xe?function(e,t,n){var r=e.subarray(t,t+n);return Pe.decode(r)}(this.bytes,i,e):Te(this.bytes,i,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new Ae("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw Ve;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new Ae("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=be(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e}}();function Ge(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class Ye{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],n=e.byteLength,r=Math.ceil(n/this.chunkedMTU);let i=0,o=0;for(;o<n;){const s=Math.min(n,o+this.chunkedMTU),a=e.slice(o,s),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),o=s,i++}return this._dataCount++,t}}}function Qe(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.byteLength;return n}const Je=pe.default||pe,Xe=new class{isWebRTCSupported(){return"undefined"!==typeof RTCPeerConnection}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return!!this.supportedBrowsers.includes(e)&&("chrome"===e?t>=this.minChromeVersion:"firefox"===e?t>=this.minFirefoxVersion:"safari"===e&&(!this.isIOS&&t>=this.minSafariVersion))}getBrowser(){return Je.browserDetails.browser}getVersion(){return Je.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=Je.browserDetails.version||0;if("chrome"===e&&t<this.minChromeVersion)return!1;if("firefox"===e&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch(i){}finally{n&&n.close()}return r}toString(){return`Supports:\n    browser:${this.getBrowser()}\n    version:${this.getVersion()}\n    isIOS:${this.isIOS}\n    isWebRTCSupported:${this.isWebRTCSupported()}\n    isBrowserSupported:${this.isBrowserSupported()}\n    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS="undefined"!==typeof navigator&&["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Ze=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),et=()=>Math.random().toString(36).slice(2),tt={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};const nt=new class extends Ye{noop(){}blobToArrayBuffer(e,t){const n=new FileReader;return n.onload=function(e){e.target&&t(e.target.result)},n.readAsArrayBuffer(e),n}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer}isSecure(){return"https:"===location.protocol}constructor(){super(...arguments),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=tt,this.browser=Xe.getBrowser(),this.browserVersion=Xe.getVersion(),this.pack=d,this.unpack=u,this.supports=function(){const e={browser:Xe.isBrowserSupported(),webRTC:Xe.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!e.webRTC)return e;let t;try{let r;t=new RTCPeerConnection(tt),e.audioVideo=!0;try{r=t.createDataChannel("_PEERJSTEST",{ordered:!0}),e.data=!0,e.reliable=!!r.ordered;try{r.binaryType="blob",e.binaryBlob=!Xe.isIOS}catch(n){}}catch(n){}finally{r&&r.close()}}catch(n){}finally{t&&t.close()}return e}(),this.validateId=Ze,this.randomToken=et}};var rt;!function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"}(rt||(rt={}));var it,ot=new class{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._logLevel>=3&&this._print(3,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._logLevel>=2&&this._print(2,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._logLevel>=1&&this._print(1,...t)}setLogFunction(e){this._print=e}_print(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=["PeerJS: ",...n];for(const o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);e>=3?console.log(...i):e>=2?console.warn("WARNING",...i):e>=1&&console.error("ERROR",...i)}constructor(){this._logLevel=0}},st=Object.prototype.hasOwnProperty,at="~";function lt(){}function ct(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function ut(e,t,n,r,i){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new ct(n,r||e,i),s=at?at+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function dt(e,t){0===--e._eventsCount?e._events=new lt:delete e._events[t]}function ht(){this._events=new lt,this._eventsCount=0}Object.create&&(lt.prototype=Object.create(null),(new lt).__proto__||(at=!1)),ht.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)st.call(e,t)&&n.push(at?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},ht.prototype.listeners=function(e){var t=at?at+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},ht.prototype.listenerCount=function(e){var t=at?at+e:e,n=this._events[t];return n?n.fn?1:n.length:0},ht.prototype.emit=function(e,t,n,r,i,o){var s=at?at+e:e;if(!this._events[s])return!1;var a,l,c=this._events[s],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,i),!0;case 6:return c.fn.call(c.context,t,n,r,i,o),!0}for(l=1,a=new Array(u-1);l<u;l++)a[l-1]=arguments[l];c.fn.apply(c.context,a)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),u){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!a)for(d=1,a=new Array(u-1);d<u;d++)a[d-1]=arguments[d];c[l].fn.apply(c[l].context,a)}}return!0},ht.prototype.on=function(e,t,n){return ut(this,e,t,n,!1)},ht.prototype.once=function(e,t,n){return ut(this,e,t,n,!0)},ht.prototype.removeListener=function(e,t,n,r){var i=at?at+e:e;if(!this._events[i])return this;if(!t)return dt(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||dt(this,i);else{for(var s=0,a=[],l=o.length;s<l;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&a.push(o[s]);a.length?this._events[i]=1===a.length?a[0]:a:dt(this,i)}return this},ht.prototype.removeAllListeners=function(e){var t;return e?(t=at?at+e:e,this._events[t]&&dt(this,t)):(this._events=new lt,this._eventsCount=0),this},ht.prototype.off=ht.prototype.removeListener,ht.prototype.addListener=ht.prototype.on,ht.prefixed=at,ht.EventEmitter=ht,it=ht;var ft,pt,mt,gt,yt,_t,vt,bt,wt,Ct,St,kt,Et,Tt,Pt={};Ge(Pt,"ConnectionType",(()=>ft)),Ge(Pt,"PeerErrorType",(()=>mt)),Ge(Pt,"BaseConnectionErrorType",(()=>yt)),Ge(Pt,"DataConnectionErrorType",(()=>vt)),Ge(Pt,"SerializationType",(()=>wt)),Ge(Pt,"SocketEventType",(()=>St)),Ge(Pt,"ServerMessageType",(()=>Et)),(pt=ft||(ft={})).Data="data",pt.Media="media",(gt=mt||(mt={})).BrowserIncompatible="browser-incompatible",gt.Disconnected="disconnected",gt.InvalidID="invalid-id",gt.InvalidKey="invalid-key",gt.Network="network",gt.PeerUnavailable="peer-unavailable",gt.SslUnavailable="ssl-unavailable",gt.ServerError="server-error",gt.SocketError="socket-error",gt.SocketClosed="socket-closed",gt.UnavailableID="unavailable-id",gt.WebRTC="webrtc",(_t=yt||(yt={})).NegotiationFailed="negotiation-failed",_t.ConnectionClosed="connection-closed",(bt=vt||(vt={})).NotOpenYet="not-open-yet",bt.MessageToBig="message-too-big",(Ct=wt||(wt={})).Binary="binary",Ct.BinaryUTF8="binary-utf8",Ct.JSON="json",Ct.None="raw",(kt=St||(St={})).Message="message",kt.Disconnected="disconnected",kt.Error="error",kt.Close="close",(Tt=Et||(Et={})).Heartbeat="HEARTBEAT",Tt.Candidate="CANDIDATE",Tt.Offer="OFFER",Tt.Answer="ANSWER",Tt.Open="OPEN",Tt.Error="ERROR",Tt.IdTaken="ID-TAKEN",Tt.InvalidKey="INVALID-KEY",Tt.Leave="LEAVE",Tt.Expire="EXPIRE";var xt;xt=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class It extends it.EventEmitter{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5e3;super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const s=e?"wss://":"ws://";this._baseUrl=s+t+":"+n+r+"peerjs?key="+i}start(e,t){this._id=e;const n=`${this._baseUrl}&id=${e}&token=${t}`;!this._socket&&this._disconnected&&(this._socket=new WebSocket(n+"&version="+xt.version),this._disconnected=!1,this._socket.onmessage=e=>{let t;try{t=JSON.parse(e.data),ot.log("Server message received:",t)}catch(n){return void ot.log("Invalid server message",e.data)}this.emit(St.Message,t)},this._socket.onclose=e=>{this._disconnected||(ot.log("Socket closed.",e),this._cleanup(),this._disconnected=!0,this.emit(St.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ot.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout((()=>{this._sendHeartbeat()}),this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen())return void ot.log("Cannot send heartbeat, because socket closed");const e=JSON.stringify({type:Et.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&1===this._socket.readyState}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id)return void this._messagesQueue.push(e);if(!e.type)return void this.emit(St.Error,"Invalid message");if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Rt{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===ft.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ot.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;ot.log("Listening for ICE candidates."),e.onicecandidate=e=>{e.candidate&&e.candidate.candidate&&(ot.log(`Received ICE candidates for ${t}:`,e.candidate),i.socket.send({type:Et.Candidate,payload:{candidate:e.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ot.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(yt.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":ot.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(yt.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":ot.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{}}this.connection.emit("iceStateChanged",e.iceConnectionState)},ot.log("Listening for data channel"),e.ondatachannel=e=>{ot.log("Received data channel");const r=e.channel;i.getConnection(t,n)._initializeDataChannel(r)},ot.log("Listening for remote stream"),e.ontrack=e=>{ot.log("Received remote stream");const r=e.streams[0],o=i.getConnection(t,n);if(o.type===ft.Media){const e=o;this._addStreamToMediaConnection(r,e)}}}cleanup(){ot.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t="closed"!==e.signalingState;let n=!1;const r=this.connection.dataChannel;r&&(n=!!r.readyState&&"closed"!==r.readyState),(t||n)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);ot.log("Created offer."),this.connection.options.sdpTransform&&"function"===typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ot.log("Set localDescription:",r,`for:${this.connection.peer}`);let n={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ft.Data){const e=this.connection;n={...n,label:e.label,reliable:e.reliable,serialization:e.serialization}}t.socket.send({type:Et.Offer,payload:n,dst:this.connection.peer})}catch(n){"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=n&&(t.emitError(mt.WebRTC,n),ot.log("Failed to setLocalDescription, ",n))}}catch(r){t.emitError(mt.WebRTC,r),ot.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const r=await e.createAnswer();ot.log("Created answer."),this.connection.options.sdpTransform&&"function"===typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ot.log("Set localDescription:",r,`for:${this.connection.peer}`),t.socket.send({type:Et.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(n){t.emitError(mt.WebRTC,n),ot.log("Failed to setLocalDescription, ",n)}}catch(r){t.emitError(mt.WebRTC,r),ot.log("Failed to create answer, ",r)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const n=this.connection.peerConnection,r=this.connection.provider;ot.log("Setting remote description",t);const i=this;try{await n.setRemoteDescription(t),ot.log(`Set remoteDescription:${e} for:${this.connection.peer}`),"OFFER"===e&&await i._makeAnswer()}catch(o){r.emitError(mt.WebRTC,o),ot.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){ot.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ot.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(mt.WebRTC,t),ot.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(ot.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return ot.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach((n=>{t.addTrack(n,e)}))}_addStreamToMediaConnection(e,t){ot.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class At extends it.EventEmitter{emitError(e,t){ot.error("Error:",t),this.emit("error",new Nt(`${e}`,t))}}class Nt extends Error{constructor(e,t){"string"===typeof t?super(t):(super(),Object.assign(this,t)),this.type=e}}class Dt extends At{get open(){return this._open}constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}}class Ot extends Dt{static#e=(()=>this.ID_PREFIX="mc_")();get type(){return ft.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ot.ID_PREFIX+nt.randomToken(),this._negotiator=new Rt(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ot.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ot.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ot.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case Et.Answer:this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case Et.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:ot.warn(`Unrecognized message type:${t} from peer:${this.peer}`)}}answer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._localStream)return void ot.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const n=this.provider._getMessages(this.connectionId);for(const r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class Lt{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:n,port:r,path:i,key:o}=this._options,s=new URL(`${t}://${n}:${r}${i}${o}/${e}`);return s.searchParams.set("ts",`${Date.now()}${Math.random()}`),s.searchParams.set("version",xt.version),fetch(s.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(200!==e.status)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(gi){ot.error("Error retrieving ID",gi);let t="";throw"/"===this._options.path&&this._options.host!==nt.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(200!==e.status){if(401===e.status){let e="";throw e=this._options.host===nt.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+e)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(gi){throw ot.error("Error retrieving list peers",gi),new Error("Could not get list peers from the server."+gi)}}}class Mt extends Dt{static#e=(()=>this.ID_PREFIX="dc_")();static#t=(()=>this.MAX_BUFFERED_AMOUNT=8388608)();get type(){return ft.Data}constructor(e,t,n){super(e,t,n),this.connectionId=this.options.connectionId||Mt.ID_PREFIX+et(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Rt(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ot.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{ot.log(`DC#${this.connectionId} dc onmessage:`,e.data)},this.dataChannel.onclose=()=>{ot.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){e?.flush?this.send({__peerData:{type:"close"}}):(this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close")))}send(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.open)return this._send(e,t);this.emitError(vt.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.")}async handleMessage(e){const t=e.payload;switch(e.type){case Et.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case Et.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:ot.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}}}class Ft extends Mt{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",(e=>this._handleDataMessage(e)))}_bufferedSend(e){!this._buffering&&this._trySend(e)||(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Mt.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout((()=>{this._buffering=!1,this._tryBuffer()}),50),!1;try{this.dataChannel.send(e)}catch(t){return ot.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open)return;if(0===this._buffer.length)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){e?.flush?this.send({__peerData:{type:"close"}}):(this._buffer=[],this._bufferSize=0,super.close())}constructor(){super(...arguments),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class zt extends Ft{close(e){super.close(e),this._chunkedData={}}constructor(e,t,n){super(e,t,n),this.chunker=new Ye,this.serialization=wt.Binary,this._chunkedData={}}_handleDataMessage(e){let{data:t}=e;const n=u(t),r=n.__peerData;if(r)return"close"===r.type?void this.close():void this._handleChunk(n);this.emit("data",n)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=new Uint8Array(e.data),n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const e=Qe(n.data);this._handleDataMessage({data:e})}}_send(e,t){const n=d(e);if(n instanceof Promise)return this._send_blob(n);!t&&n.byteLength>this.chunker.chunkedMTU?this._sendChunks(n):this._bufferedSend(n)}async _send_blob(e){const t=await e;t.byteLength>this.chunker.chunkedMTU?this._sendChunks(t):this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);ot.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const n of t)this.send(n,!0)}}class Ut extends Ft{_handleDataMessage(e){let{data:t}=e;super.emit("data",t)}_send(e,t){this._bufferedSend(e)}constructor(){super(...arguments),this.serialization=wt.None}}class jt extends Ft{_handleDataMessage(e){let{data:t}=e;const n=this.parse(this.decoder.decode(t)),r=n.__peerData;r&&"close"===r.type?this.close():this.emit("data",n)}_send(e,t){const n=this.encoder.encode(this.stringify(e));n.byteLength>=nt.chunkedMTU?this.emitError(vt.MessageToBig,"Message too big for JSON channel"):this._bufferedSend(n)}constructor(){super(...arguments),this.serialization=wt.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Bt extends At{static#e=(()=>this.DEFAULT_KEY="peerjs")();get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){let n;super(),this._serializers={raw:Ut,json:jt,binary:zt,"binary-utf8":zt,default:zt},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map,e&&e.constructor==Object?t=e:e&&(n=e.toString()),t={debug:0,host:nt.CLOUD_HOST,port:nt.CLOUD_PORT,path:"/",key:Bt.DEFAULT_KEY,token:nt.randomToken(),config:nt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},"/"===this._options.host&&(this._options.host=window.location.hostname),this._options.path&&("/"!==this._options.path[0]&&(this._options.path="/"+this._options.path),"/"!==this._options.path[this._options.path.length-1]&&(this._options.path+="/")),void 0===this._options.secure&&this._options.host!==nt.CLOUD_HOST?this._options.secure=nt.isSecure():this._options.host==nt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ot.setLogFunction(this._options.logFunction),ot.logLevel=this._options.debug||0,this._api=new Lt(t),this._socket=this._createServerConnection(),nt.supports.audioVideo||nt.supports.data?!n||nt.validateId(n)?n?this._initialize(n):this._api.retrieveId().then((e=>this._initialize(e))).catch((e=>this._abort(mt.ServerError,e))):this._delayedAbort(mt.InvalidID,`ID "${n}" is invalid`):this._delayedAbort(mt.BrowserIncompatible,"The current browser does not support WebRTC")}_createServerConnection(){const e=new It(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(St.Message,(e=>{this._handleMessage(e)})),e.on(St.Error,(e=>{this._abort(mt.SocketError,e)})),e.on(St.Disconnected,(()=>{this.disconnected||(this.emitError(mt.Network,"Lost connection to server."),this.disconnect())})),e.on(St.Close,(()=>{this.disconnected||this._abort(mt.SocketClosed,"Underlying socket is already closed.")})),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case Et.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Et.Error:this._abort(mt.ServerError,n.msg);break;case Et.IdTaken:this._abort(mt.UnavailableID,`ID "${this.id}" is taken`);break;case Et.InvalidKey:this._abort(mt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Et.Leave:ot.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case Et.Expire:this.emitError(mt.PeerUnavailable,`Could not connect to peer ${r}`);break;case Et.Offer:{const e=n.connectionId;let t=this.getConnection(r,e);if(t&&(t.close(),ot.warn(`Offer received for existing Connection ID:${e}`)),n.type===ft.Media){const i=new Ot(r,this,{connectionId:e,_payload:n,metadata:n.metadata});t=i,this._addConnection(r,t),this.emit("call",i)}else{if(n.type!==ft.Data)return void ot.warn(`Received malformed connection type:${n.type}`);{const i=new this._serializers[n.serialization](r,this,{connectionId:e,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable});t=i,this._addConnection(r,t),this.emit("connection",i)}}const i=this._getMessages(e);for(const n of i)t.handleMessage(n);break}default:{if(!n)return void ot.warn(`You received a malformed message from ${r} of type ${t}`);const i=n.connectionId,o=this.getConnection(r,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):ot.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t={serialization:"default",...t},this.disconnected)return ot.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(mt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");const n=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,n),n}call(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.disconnected)return ot.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(mt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(!t)return void ot.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");const r=new Ot(e,this,{...n,_stream:t});return this._addConnection(e,r),r}_addConnection(e,t){ot.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(const r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout((()=>{this._abort(e,t)}),0)}_abort(e,t){ot.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ot.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;ot.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ot.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`);ot.error("In a hurry? We're still trying to make the initial connection!")}}listAllPeers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>{};this._api.listAllPeers().then((t=>e(t))).catch((e=>this._abort(mt.ServerError,e)))}}var qt=Bt;const Wt=!1,Ht=!1,$t="${JSCORE_VERSION}",Vt=function(e,t){if(!e)throw Kt(t)},Kt=function(e){return new Error("Firebase Database ("+$t+") INTERNAL ASSERT FAILED: "+e)},Gt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Qt;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Qt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jt=function(e){const t=Gt(e);return Yt.encodeByteArray(t,!0)},Xt=function(e){return Jt(e).replace(/\./g,"")},Zt=function(e){try{return Yt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function en(e){return tn(void 0,e)}function tn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=tn(e[n],t[n]));return e}const nn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,rn=()=>{try{return nn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD3DPOExI8Px9lYK_8sIBxHlSazQUhxIRg",REACT_APP_FIREBASE_AUTH_DOMAIN:"seeyounow-34bdb.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"seeyounow-34bdb",REACT_APP_FIREBASE_STORAGE_BUCKET:"seeyounow-34bdb.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"536454714500",REACT_APP_FIREBASE_APP_ID:"1:536454714500:web:637c3a4554c7fd3e695ed1",REACT_APP_FIREBASE_MEASUREMENT_ID:"yG-6W89G6L3XE",REACT_APP_FIREBASE_DATABASE_URL:"https://seeyounow-34bdb-default-rtdb.firebaseio.com/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Zt(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},on=e=>{const t=(e=>{var t,n;return null===(n=null===(t=rn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},sn=()=>{var e;return null===(e=rn())||void 0===e?void 0:e.config};class an{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ln(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function cn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function un(){return!0===Wt||!0===Ht}class dn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}}class hn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(fn,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new dn(n,o,t)}}const fn=/\{\$([^}]+)}/g;function pn(e){return JSON.parse(e)}function mn(e){return JSON.stringify(e)}const gn=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=pn(Zt(o[0])||""),n=pn(Zt(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function yn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _n(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function vn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function bn(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function wn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Cn(n)&&Cn(o)){if(!wn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cn(e){return null!==e&&"object"===typeof e}class Sn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function kn(e,t){return`${e} failed: ${t} argument `}const En=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Tn(e){return e&&e._delegate?e._delegate:e}class Pn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xn="[DEFAULT]";class In{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new an;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(me){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===xn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(me){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.component?this.component.multipleInstances?e:xn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new In(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const An=[];var Nn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Nn||(Nn={}));const Dn={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},On=Nn.INFO,Ln={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},Mn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ln[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class Fn{constructor(e){this.name=e,this._logLevel=On,this._logHandler=Mn,this._userLogHandler=null,An.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Dn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...t),this._logHandler(this,Nn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...t),this._logHandler(this,Nn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...t),this._logHandler(this,Nn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...t),this._logHandler(this,Nn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...t),this._logHandler(this,Nn.ERROR,...t)}}let zn,Un;const jn=new WeakMap,Bn=new WeakMap,qn=new WeakMap,Wn=new WeakMap,Hn=new WeakMap;let $n={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Vn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Un||(Un=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yn(this),n),Gn(jn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gn(e.apply(Yn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Yn(this),t,...r);return qn.set(o,t.sort?t.sort():[t]),Gn(o)}}function Kn(e){return"function"===typeof e?Vn(e):(e instanceof IDBTransaction&&function(e){if(Bn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Bn.set(e,t)}(e),t=e,(zn||(zn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,$n):e);var t}function Gn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Gn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&jn.set(t,e)})).catch((()=>{})),Hn.set(t,e),t}(e);if(Wn.has(e))return Wn.get(e);const t=Kn(e);return t!==e&&(Wn.set(e,t),Hn.set(t,e)),t}const Yn=e=>Hn.get(e);const Qn=["get","getKey","getAll","getAllKeys","count"],Jn=["put","add","delete","clear"],Xn=new Map;function Zn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Xn.get(t))return Xn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Jn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Xn.set(t,o),o}$n=(e=>({...e,get:(t,n,r)=>Zn(t,n)||e.get(t,n,r),has:(t,n)=>!!Zn(t,n)||e.has(t,n)}))($n);class er{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const tr="@firebase/app",nr="0.11.2",rr=new Fn("@firebase/app"),ir="@firebase/app-compat",or="@firebase/analytics-compat",sr="@firebase/analytics",ar="@firebase/app-check-compat",lr="@firebase/app-check",cr="@firebase/auth",ur="@firebase/auth-compat",dr="@firebase/database",hr="@firebase/data-connect",fr="@firebase/database-compat",pr="@firebase/functions",mr="@firebase/functions-compat",gr="@firebase/installations",yr="@firebase/installations-compat",_r="@firebase/messaging",vr="@firebase/messaging-compat",br="@firebase/performance",wr="@firebase/performance-compat",Cr="@firebase/remote-config",Sr="@firebase/remote-config-compat",kr="@firebase/storage",Er="@firebase/storage-compat",Tr="@firebase/firestore",Pr="@firebase/vertexai",xr="@firebase/firestore-compat",Ir="firebase",Rr="[DEFAULT]",Ar={[tr]:"fire-core",[ir]:"fire-core-compat",[sr]:"fire-analytics",[or]:"fire-analytics-compat",[lr]:"fire-app-check",[ar]:"fire-app-check-compat",[cr]:"fire-auth",[ur]:"fire-auth-compat",[dr]:"fire-rtdb",[hr]:"fire-data-connect",[fr]:"fire-rtdb-compat",[pr]:"fire-fn",[mr]:"fire-fn-compat",[gr]:"fire-iid",[yr]:"fire-iid-compat",[_r]:"fire-fcm",[vr]:"fire-fcm-compat",[br]:"fire-perf",[wr]:"fire-perf-compat",[Cr]:"fire-rc",[Sr]:"fire-rc-compat",[kr]:"fire-gcs",[Er]:"fire-gcs-compat",[Tr]:"fire-fst",[xr]:"fire-fst-compat",[Pr]:"fire-vertex","fire-js":"fire-js",[Ir]:"fire-js-all"},Nr=new Map,Dr=new Map,Or=new Map;function Lr(e,t){try{e.container.addComponent(t)}catch(n){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Mr(e){const t=e.name;if(Or.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;Or.set(t,e);for(const n of Nr.values())Lr(n,e);for(const n of Dr.values())Lr(n,e);return!0}function Fr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const zr=new hn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ur{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Pn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}function jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Rr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=sn()),!n)throw zr.create("no-options");const o=Nr.get(i);if(o){if(wn(n,o.options)&&wn(r,o.config))return o;throw zr.create("duplicate-app",{appName:i})}const s=new Rn(i);for(const l of Or.values())s.addComponent(l);const a=new Ur(n,r,s);return Nr.set(i,a),a}function Br(e,t,n){var r;let i=null!==(r=Ar[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void rr.warn(e.join(" "))}Mr(new Pn(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const qr="firebase-heartbeat-store";let Wr=null;function Hr(){return Wr||(Wr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Gn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Gn(s.result),e.oldVersion,e.newVersion,Gn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(qr)}catch(n){console.warn(n)}}}).catch((e=>{throw zr.create("idb-open",{originalErrorMessage:e.message})}))),Wr}async function $r(e,t){try{const n=(await Hr()).transaction(qr,"readwrite"),r=n.objectStore(qr);await r.put(t,Vr(e)),await n.done}catch(n){if(n instanceof dn)rr.warn(n.message);else{const e=zr.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});rr.warn(e.message)}}}function Vr(e){return`${e.name}!${e.options.appId}`}class Kr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Gr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){rr.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Gr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Qr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Xt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return rr.warn(t),""}}}function Gr(){return(new Date).toISOString().substring(0,10)}class Yr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(gi){t(gi)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Hr()).transaction(qr),n=await t.objectStore(qr).get(Vr(e));return await t.done,n}catch(t){if(t instanceof dn)rr.warn(t.message);else{const e=zr.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});rr.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return $r(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return $r(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Qr(e){return Xt(JSON.stringify({version:2,heartbeats:e})).length}var Jr;Jr="",Mr(new Pn("platform-logger",(e=>new er(e)),"PRIVATE")),Mr(new Pn("heartbeat",(e=>new Kr(e)),"PRIVATE")),Br(tr,nr,Jr),Br(tr,nr,"esm2017"),Br("fire-js","");Br("firebase","11.4.0","app");const Xr="@firebase/database",Zr="1.0.13";let ei="";function ti(e){ei=e}class ni{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:pn(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ri{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return yn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ii=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ni(t)}}catch(t){}return new ri},oi=ii("localStorage"),si=ii("sessionStorage"),ai=new Fn("@firebase/database"),li=function(){let e=1;return function(){return e++}}(),ci=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Vt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Sn;n.update(t);const r=n.digest();return Yt.encodeByteArray(r)},ui=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=ui.apply(null,n):e+="object"===typeof n?mn(n):n,e+=" "}return e};let di=null,hi=!0;const fi=function(e,t){Vt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ai.logLevel=Nn.VERBOSE,di=ai.log.bind(ai),t&&si.set("logging_enabled",!0)):"function"===typeof e?di=e:(di=null,si.remove("logging_enabled"))},pi=function(){if(!0===hi&&(hi=!1,null===di&&!0===si.get("logging_enabled")&&fi(!0)),di){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ui.apply(null,t);di(r)}},mi=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];pi(e,...n)}},gi=function(){const e="FIREBASE INTERNAL ERROR: "+ui(...arguments);ai.error(e)},yi=function(){const e=`FIREBASE FATAL ERROR: ${ui(...arguments)}`;throw ai.error(e),new Error(e)},_i=function(){const e="FIREBASE WARNING: "+ui(...arguments);ai.warn(e)},vi=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},bi="[MIN_NAME]",wi="[MAX_NAME]",Ci=function(e,t){if(e===t)return 0;if(e===bi||t===wi)return-1;if(t===bi||e===wi)return 1;{const n=Ri(e),r=Ri(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Si=function(e,t){return e===t?0:e<t?-1:1},ki=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+mn(t))},Ei=function(e){if("object"!==typeof e||null===e)return mn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=mn(t[r]),n+=":",n+=Ei(e[t[r]]);return n+="}",n},Ti=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Pi(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const xi=function(e){Vt(!vi(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Ii=new RegExp("^-?(0*)\\d{1,10}$"),Ri=function(e){if(Ii.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ai=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw _i("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Ni=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Di{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){_i(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Oi{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(pi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_i(e)}}class Li{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Li.OWNER="owner";const Mi="5",Fi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zi="ac",Ui="websocket",ji="long_polling";class Bi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=oi.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&oi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function qi(e,t,n){let r;if(Vt("string"===typeof t,"typeof type must == string"),Vt("object"===typeof n,"typeof params must == object"),t===Ui)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ji)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Pi(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Wi{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;yn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return en(this.counters_)}}const Hi={},$i={};function Vi(e){const t=e.toString();return Hi[t]||(Hi[t]=new Wi),Hi[t]}class Ki{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ai((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Gi="start";class Yi{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mi(e),this.stats_=Vi(t),this.urlFn=e=>(this.appCheckToken&&(e[zi]=this.appCheckToken),qi(t,ji,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ki(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(un()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qi((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Gi)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Gi]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Mi,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[zi]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Fi.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yi.forceAllow_=!0}static forceDisallow(){Yi.forceDisallow_=!0}static isAvailable(){return!un()&&(!!Yi.forceAllow_||!Yi.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=mn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Jt(t),r=Ti(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(un())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=mn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Qi{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,un())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=li(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Qi.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){pi("frame writing exception"),i.stack&&pi(i.stack),pi(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||pi("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){un()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{pi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Ji=null;"undefined"!==typeof MozWebSocket?Ji=MozWebSocket:"undefined"!==typeof WebSocket&&(Ji=WebSocket);class Xi{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mi(this.connId),this.stats_=Vi(t),this.connURL=Xi.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Mi,!un()&&"undefined"!==typeof location&&location.hostname&&Fi.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[zi]=r),i&&(o.p=i),qi(e,Ui,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oi.set("previous_websocket_failure",!0);try{let e;if(un()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${Mi}/${ei}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD3DPOExI8Px9lYK_8sIBxHlSazQUhxIRg",REACT_APP_FIREBASE_AUTH_DOMAIN:"seeyounow-34bdb.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"seeyounow-34bdb",REACT_APP_FIREBASE_STORAGE_BUCKET:"seeyounow-34bdb.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"536454714500",REACT_APP_FIREBASE_APP_ID:"1:536454714500:web:637c3a4554c7fd3e695ed1",REACT_APP_FIREBASE_MEASUREMENT_ID:"yG-6W89G6L3XE",REACT_APP_FIREBASE_DATABASE_URL:"https://seeyounow-34bdb-default-rtdb.firebaseio.com/"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Ji(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Xi.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ji&&!Xi.forceDisallow_}static previouslyFailed(){return oi.isInMemoryStorage||!0===oi.get("previous_websocket_failure")}markConnectionHealthy(){oi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=pn(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Vt(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=mn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ti(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xi.responsesRequiredToBeHealthy=2,Xi.healthyTimeout=3e4;class Zi{static get ALL_TRANSPORTS(){return[Yi,Xi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Xi&&Xi.isAvailable();let n=t&&!Xi.previouslyFailed();if(e.webSocketOnly&&(t||_i("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Xi];else{const e=this.transports_=[];for(const t of Zi.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Zi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zi.globalTransportInitialized_=!1;class eo{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mi("c:"+this.id+":"),this.transportManager_=new Zi(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ni((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ki("t",e),n=ki("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ki("t",e),n=ki("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ki("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?gi("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gi("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Mi!==n&&_i("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ni((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ni((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class to{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class no{constructor(e){this.allowedEvents_=e,this.listeners_={},Vt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Vt(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class ro extends no{static getInstance(){return new ro}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||cn()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return Vt("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class io{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function oo(){return new io("")}function so(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ao(e){return e.pieces_.length-e.pieceNum_}function lo(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new io(e.pieces_,t)}function co(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function uo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ho(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new io(t,0)}function fo(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof io)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new io(n,0)}function po(e){return e.pieceNum_>=e.pieces_.length}function mo(e,t){const n=so(e),r=so(t);if(null===n)return t;if(n===r)return mo(lo(e),lo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function go(e,t){if(ao(e)!==ao(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function yo(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ao(e)>ao(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class _o{constructor(e,t){this.errorPrefix_=t,this.parts_=uo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=En(this.parts_[n]);vo(this)}}function vo(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bo(e))}function bo(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class wo extends no{static getInstance(){return new wo}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return Vt("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Co=1e3;class So extends to{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=So.nextPersistentConnectionId_++,this.log_=mi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Co,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!un())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wo.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ro.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(mn(i)),Vt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new an,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Vt(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;So.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&yn(e,"w")){const n=_n(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();_i(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=gn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=gn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mn(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):gi("Unrecognized action received from server: "+mn(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Vt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Co),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+So.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){Vt(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?pi("getToken() completed but was canceled"):(pi("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new eo(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{_i(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(gi){this.log_("Failed to get token: "+gi),o||(this.repoInfo_.nodeAdmin&&_i(gi),a())}}}interrupt(e){pi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vn(this.interruptReasons_)&&(this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Ei(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new io(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){pi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){pi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";un()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ei.replace(/\./g,"-")]=1,cn()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ro.getInstance().currentlyOnline();return vn(this.interruptReasons_)&&e}}So.nextPersistentConnectionId_=0,So.nextConnectionId_=0;class ko{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ko(e,t)}}class Eo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ko(bi,e),r=new ko(bi,t);return 0!==this.compare(n,r)}minPost(){return ko.MIN}}let To;class Po extends Eo{static get __EMPTY_NODE(){return To}static set __EMPTY_NODE(e){To=e}compare(e,t){return Ci(e.name,t.name)}isDefinedOn(e){throw Kt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ko.MIN}maxPost(){return new ko(wi,To)}makePost(e,t){return Vt("string"===typeof e,"KeyIndex indexValue must always be a string."),new ko(e,To)}toString(){return".key"}}const xo=new Po;class Io{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ro{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ro.RED,this.left=null!=r?r:Ao.EMPTY_NODE,this.right=null!=i?i:Ao.EMPTY_NODE}copy(e,t,n,r,i){return new Ro(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ao.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ao.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ro.RED=!0,Ro.BLACK=!1;class Ao{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ao.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Ao(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ro.BLACK,null,null))}remove(e){return new Ao(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ro.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Io(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Io(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Io(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Io(this.root_,null,this.comparator_,!0,e)}}function No(e,t){return Ci(e.name,t.name)}function Do(e,t){return Ci(e,t)}let Oo;Ao.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Ro(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Lo=function(e){return"number"===typeof e?"number:"+xi(e):"string:"+e},Mo=function(e){if(e.isLeafNode()){const t=e.val();Vt("string"===typeof t||"number"===typeof t||"object"===typeof t&&yn(t,".sv"),"Priority must be a string or number.")}else Vt(e===Oo||e.isEmpty(),"priority of unexpected type.");Vt(e===Oo||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Fo,zo,Uo;class jo{static set __childrenNodeConstructor(e){Fo=e}static get __childrenNodeConstructor(){return Fo}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jo.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Vt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Mo(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new jo(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:jo.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return po(e)?this:".priority"===so(e)?this.priorityNode_:jo.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:jo.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=so(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Vt(".priority"!==n||1===ao(e),".priority must be the last token in a path"),this.updateImmediateChild(n,jo.__childrenNodeConstructor.EMPTY_NODE.updateChild(lo(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Lo(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?xi(this.value_):this.value_,this.lazyHash_=ci(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===jo.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof jo.__childrenNodeConstructor?-1:(Vt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=jo.VALUE_TYPE_ORDER.indexOf(t),i=jo.VALUE_TYPE_ORDER.indexOf(n);return Vt(r>=0,"Unknown leaf type: "+t),Vt(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}jo.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Bo=new class extends Eo{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ci(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ko.MIN}maxPost(){return new ko(wi,new jo("[PRIORITY-POST]",Uo))}makePost(e,t){const n=zo(e);return new ko(t,new jo("[PRIORITY-POST]",n))}toString(){return".priority"}},qo=Math.log(2);class Wo{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/qo,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ho=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Ro(a,s.node,Ro.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new Ro(a,s.node,Ro.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new Ro(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Ro.BLACK):(a(r,Ro.BLACK),a(r,Ro.RED))}return o}(new Wo(e.length));return new Ao(r||t,o)};let $o;const Vo={};class Ko{static get Default(){return Vt(Vo&&Bo,"ChildrenNode.ts has not been loaded"),$o=$o||new Ko({".priority":Vo},{".priority":Bo}),$o}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=_n(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ao?t:null}hasIndex(e){return yn(this.indexSet_,e.toString())}addIndex(e,t){Vt(e!==xo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(ko.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?Ho(n,e.getCompare()):Vo;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new Ko(c,l)}addToIndexes(e,t){const n=bn(this.indexes_,((n,r)=>{const i=_n(this.indexSet_,r);if(Vt(i,"Missing index implementation for "+r),n===Vo){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(ko.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Ho(n,i.getCompare())}return Vo}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new ko(e.name,r))),i.insert(e,e.node)}}));return new Ko(n,this.indexSet_)}removeFromIndexes(e,t){const n=bn(this.indexes_,(n=>{if(n===Vo)return n;{const r=t.get(e.name);return r?n.remove(new ko(e.name,r)):n}}));return new Ko(n,this.indexSet_)}}let Go;class Yo{static get EMPTY_NODE(){return Go||(Go=new Yo(new Ao(Do),null,Ko.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Mo(this.priorityNode_),this.children_.isEmpty()&&Vt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Go}updatePriority(e){return this.children_.isEmpty()?this:new Yo(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Go:t}}getChild(e){const t=so(e);return null===t?this:this.getImmediateChild(t).getChild(lo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Vt(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ko(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Go:this.priorityNode_;return new Yo(r,o,i)}}updateChild(e,t){const n=so(e);if(null===n)return t;{Vt(".priority"!==so(e)||1===ao(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(lo(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Bo,((o,s)=>{t[o]=s.val(e),n++,i&&Yo.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Lo(this.getPriority().val())+":"),this.forEachChild(Bo,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ci(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new ko(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ko(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ko(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,ko.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,ko.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qo?-1:0}withIndex(e){if(e===xo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Yo(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===xo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Bo),n=t.getIterator(Bo);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===xo?null:this.indexMap_.get(e.toString())}}Yo.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Qo=new class extends Yo{constructor(){super(new Ao(Do),Yo.EMPTY_NODE,Ko.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yo.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ko,{MIN:{value:new ko(bi,Yo.EMPTY_NODE)},MAX:{value:new ko(wi,Qo)}}),Po.__EMPTY_NODE=Yo.EMPTY_NODE,jo.__childrenNodeConstructor=Yo,Oo=Qo,function(e){Uo=e}(Qo);function Jo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Yo.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Vt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new jo(e,Jo(t))}if(e instanceof Array){let n=Yo.EMPTY_NODE;return Pi(e,((t,r)=>{if(yn(e,t)&&"."!==t.substring(0,1)){const e=Jo(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Jo(t))}{const n=[];let r=!1;if(Pi(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Jo(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new ko(e,i)))}})),0===n.length)return Yo.EMPTY_NODE;const i=Ho(n,No,(e=>e.name),Do);if(r){const e=Ho(n,Bo.getCompare());return new Yo(i,Jo(t),new Ko({".priority":e},{".priority":Bo}))}return new Yo(i,Jo(t),Ko.Default)}}!function(e){zo=e}(Jo);class Xo extends Eo{constructor(e){super(),this.indexPath_=e,Vt(!po(e)&&".priority"!==so(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ci(e.name,t.name):i}makePost(e,t){const n=Jo(e),r=Yo.EMPTY_NODE.updateChild(this.indexPath_,n);return new ko(t,r)}maxPost(){const e=Yo.EMPTY_NODE.updateChild(this.indexPath_,Qo);return new ko(wi,e)}toString(){return uo(this.indexPath_,0).join("/")}}const Zo=new class extends Eo{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Ci(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ko.MIN}maxPost(){return ko.MAX}makePost(e,t){const n=Jo(e);return new ko(t,n)}toString(){return".value"}};function es(e){return{type:"value",snapshotNode:e}}function ts(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ns(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function rs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class is{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Vt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(ns(t,s)):Vt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ts(t,n)):o.trackChildChange(rs(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Bo,((e,r)=>{t.hasChild(e)||n.trackChildChange(ns(e,r))})),t.isLeafNode()||t.forEachChild(Bo,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(rs(t,r,i))}else n.trackChildChange(ts(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Yo.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class os{constructor(e){this.indexedFilter_=new is(e.getIndex()),this.index_=e.getIndex(),this.startPost_=os.getStartPost_(e),this.endPost_=os.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new ko(t,n))||(n=Yo.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Yo.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Yo.EMPTY_NODE);const i=this;return t.forEachChild(Bo,((e,t)=>{i.matches(new ko(e,t))||(r=r.updateImmediateChild(e,Yo.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class ss{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new os(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new ko(t,n))||(n=Yo.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Yo.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Yo.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Yo.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Yo.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;Vt(s.numChildren()===this.limit_,"");const a=new ko(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(rs(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(ns(t,e));const n=s.updateImmediateChild(t,Yo.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(ts(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(ns(l.name,l.node)),i.trackChildChange(ts(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Yo.EMPTY_NODE)):e}}class as{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Vt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Vt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bi}hasEnd(){return this.endSet_}getIndexEndValue(){return Vt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Vt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Vt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bo}copy(){const e=new as;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ls(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Bo?n="$priority":e.index_===Zo?n="$value":e.index_===xo?n="$key":(Vt(e.index_ instanceof Xo,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=mn(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=mn(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+mn(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=mn(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+mn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function cs(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Bo&&(t.i=e.index_.toString()),t}class us extends to{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Vt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=mi("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=us.getListenId_(e,n),s={};this.listens_[o]=s;const a=ls(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),_n(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=us.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ls(e._queryParams),n=e._path.toString(),r=new an;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=pn(a.responseText)}catch(e){_i("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&_i("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class ds{constructor(){this.rootNode_=Yo.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function hs(){return{value:null,children:new Map}}function fs(e,t,n){if(po(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=so(t);e.children.has(r)||e.children.set(r,hs());fs(e.children.get(r),t=lo(t),n)}}function ps(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{ps(r,new io(t.toString()+"/"+e),n)}))}class ms{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Pi(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class gs{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ms(e);const n=1e4+2e4*Math.random();Ni(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Pi(e,((e,r)=>{r>0&&yn(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Ni(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ys;function _s(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ys||(ys={}));class vs{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ys.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(po(this.path)){if(null!=this.affectedTree.value)return Vt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new io(e));return new vs(oo(),t,this.revert)}}return Vt(so(this.path)===e,"operationForChild called for unrelated child."),new vs(lo(this.path),this.affectedTree,this.revert)}}class bs{constructor(e,t){this.source=e,this.path=t,this.type=ys.LISTEN_COMPLETE}operationForChild(e){return po(this.path)?new bs(this.source,oo()):new bs(this.source,lo(this.path))}}class ws{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ys.OVERWRITE}operationForChild(e){return po(this.path)?new ws(this.source,oo(),this.snap.getImmediateChild(e)):new ws(this.source,lo(this.path),this.snap)}}class Cs{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ys.MERGE}operationForChild(e){if(po(this.path)){const t=this.children.subtree(new io(e));return t.isEmpty()?null:t.value?new ws(this.source,oo(),t.value):new Cs(this.source,oo(),t)}return Vt(so(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,lo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ss{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(po(e))return this.isFullyInitialized()&&!this.filtered_;const t=so(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ks{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Es(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Kt("Should only compare child_ events.");const r=new ko(t.childName,t.snapshotNode),i=new ko(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ts(e,t){return{eventCache:e,serverCache:t}}function Ps(e,t,n,r){return Ts(new Ss(t,n,r),e.serverCache)}function xs(e,t,n,r){return Ts(e.eventCache,new Ss(t,n,r))}function Is(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Rs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let As;class Ns{static fromObject(e){let t=new Ns(null);return Pi(e,((e,n)=>{t=t.set(new io(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(As||(As=new Ao(Si)),As);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:oo(),value:this.value};if(po(e))return null;{const n=so(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(lo(e),t);if(null!=i){return{path:fo(new io(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(po(e))return this;{const t=so(e),n=this.children.get(t);return null!==n?n.subtree(lo(e)):new Ns(null)}}set(e,t){if(po(e))return new Ns(t,this.children);{const n=so(e),r=(this.children.get(n)||new Ns(null)).set(lo(e),t),i=this.children.insert(n,r);return new Ns(this.value,i)}}remove(e){if(po(e))return this.children.isEmpty()?new Ns(null):new Ns(null,this.children);{const t=so(e),n=this.children.get(t);if(n){const r=n.remove(lo(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Ns(null):new Ns(this.value,i)}return this}}get(e){if(po(e))return this.value;{const t=so(e),n=this.children.get(t);return n?n.get(lo(e)):null}}setTree(e,t){if(po(e))return t;{const n=so(e),r=(this.children.get(n)||new Ns(null)).setTree(lo(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Ns(this.value,i)}}fold(e){return this.fold_(oo(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(fo(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,oo(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(po(e))return null;{const r=so(e),i=this.children.get(r);return i?i.findOnPath_(lo(e),fo(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,oo(),t)}foreachOnPath_(e,t,n){if(po(e))return this;{this.value&&n(t,this.value);const r=so(e),i=this.children.get(r);return i?i.foreachOnPath_(lo(e),fo(t,r),n):new Ns(null)}}foreach(e){this.foreach_(oo(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(fo(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Ds{constructor(e){this.writeTree_=e}static empty(){return new Ds(new Ns(null))}}function Os(e,t,n){if(po(t))return new Ds(new Ns(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=mo(i,t);return o=o.updateChild(s,n),new Ds(e.writeTree_.set(i,o))}{const r=new Ns(n),i=e.writeTree_.setTree(t,r);return new Ds(i)}}}function Ls(e,t,n){let r=e;return Pi(n,((e,n)=>{r=Os(r,fo(t,e),n)})),r}function Ms(e,t){if(po(t))return Ds.empty();{const n=e.writeTree_.setTree(t,new Ns(null));return new Ds(n)}}function Fs(e,t){return null!=zs(e,t)}function zs(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(mo(n.path,t)):null}function Us(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Bo,((e,n)=>{t.push(new ko(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new ko(e,n.value))})),t}function js(e,t){if(po(t))return e;{const n=zs(e,t);return new Ds(null!=n?new Ns(n):e.writeTree_.subtree(t))}}function Bs(e){return e.writeTree_.isEmpty()}function qs(e,t){return Ws(oo(),e.writeTree_,t)}function Ws(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Vt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ws(fo(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(fo(e,".priority"),r)),n}}function Hs(e,t){return ra(t,e)}function $s(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Vt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Vs(t,r.path)?i=!1:yo(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=Gs(e.allWrites,Ks,oo()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Ms(e.visibleWrites,r.path);else{Pi(r.children,(t=>{e.visibleWrites=Ms(e.visibleWrites,fo(r.path,t))}))}return!0}return!1}function Vs(e,t){if(e.snap)return yo(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&yo(fo(e.path,n),t))return!0;return!1}function Ks(e){return e.visible}function Gs(e,t,n){let r=Ds.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)yo(n,e)?(t=mo(n,e),r=Os(r,t,o.snap)):yo(e,n)&&(t=mo(e,n),r=Os(r,oo(),o.snap.getChild(t)));else{if(!o.children)throw Kt("WriteRecord should have .snap or .children");if(yo(n,e))t=mo(n,e),r=Ls(r,t,o.children);else if(yo(e,n))if(t=mo(e,n),po(t))r=Ls(r,oo(),o.children);else{const e=_n(o.children,so(t));if(e){const n=e.getChild(lo(t));r=Os(r,oo(),n)}}}}}return r}function Ys(e,t,n,r,i){if(r||i){const o=js(e.visibleWrites,t);if(!i&&Bs(o))return n;if(i||null!=n||Fs(o,oo())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(yo(e.path,t)||yo(t,e.path))};return qs(Gs(e.allWrites,o,t),n||Yo.EMPTY_NODE)}return null}{const r=zs(e.visibleWrites,t);if(null!=r)return r;{const r=js(e.visibleWrites,t);if(Bs(r))return n;if(null!=n||Fs(r,oo())){return qs(r,n||Yo.EMPTY_NODE)}return null}}}function Qs(e,t,n,r){return Ys(e.writeTree,e.treePath,t,n,r)}function Js(e,t){return function(e,t,n){let r=Yo.EMPTY_NODE;const i=zs(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Bo,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=js(e.visibleWrites,t);return n.forEachChild(Bo,((e,t)=>{const n=qs(js(i,new io(e)),t);r=r.updateImmediateChild(e,n)})),Us(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Us(js(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Xs(e,t,n,r){return function(e,t,n,r,i){Vt(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=fo(t,n);if(Fs(e.visibleWrites,o))return null;{const t=js(e.visibleWrites,o);return Bs(t)?i.getChild(n):qs(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Zs(e,t){return function(e,t){return zs(e.visibleWrites,t)}(e.writeTree,fo(e.treePath,t))}function ea(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=js(e.visibleWrites,t),c=zs(l,oo());if(null!=c)a=c;else{if(null==n)return[];a=qs(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function ta(e,t,n){return function(e,t,n,r){const i=fo(t,n),o=zs(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return qs(js(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function na(e,t){return ra(fo(e.treePath,t),e.writeTree)}function ra(e,t){return{treePath:e,writeTree:t}}class ia{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Vt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Vt(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,rs(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,ns(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ts(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Kt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,rs(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const oa=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class sa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ta(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rs(this.viewCache_),i=ea(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function aa(e,t,n,r,i){const o=new ia;let s,a;if(n.type===ys.OVERWRITE){const l=n;l.source.fromUser?s=ua(e,t,l.path,l.snap,r,i,o):(Vt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!po(l.path),s=ca(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===ys.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=fo(n,r);da(t,so(c))&&(a=ua(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=fo(n,r);da(t,so(c))||(a=ua(e,a,c,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(Vt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=fa(e,t,l.path,l.children,r,i,a,o))}else if(n.type===ys.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=Zs(r,n))return t;{const a=new sa(r,t,i),l=t.eventCache.getNode();let c;if(po(n)||".priority"===so(n)){let n;if(t.serverCache.isFullyInitialized())n=Qs(r,Rs(t));else{const e=t.serverCache.getNode();Vt(e instanceof Yo,"serverChildren would be complete if leaf node"),n=Js(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=so(n);let u=ta(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,lo(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Yo.EMPTY_NODE,lo(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Qs(r,Rs(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Zs(r,oo()),Ps(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=Zs(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(po(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ca(e,t,n,l.getNode().getChild(n),i,o,a,s);if(po(n)){let r=new Ns(null);return l.getNode().forEachChild(xo,((e,t)=>{r=r.set(new io(e),t)})),fa(e,t,n,r,i,o,a,s)}return t}{let c=new Ns(null);return r.foreach(((e,t)=>{const r=fo(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),fa(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==ys.LISTEN_COMPLETE)throw Kt("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=xs(t,o.getNode(),o.isFullyInitialized()||po(n),o.isFiltered());return la(e,s,n,r,oa,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Is(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(es(Is(t)))}}(t,s,l),{viewCache:s,changes:l}}function la(e,t,n,r,i,o){const s=t.eventCache;if(null!=Zs(r,n))return t;{let a,l;if(po(n))if(Vt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Rs(t),i=Js(r,n instanceof Yo?n:Yo.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Qs(r,Rs(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=so(n);if(".priority"===c){Vt(1===ao(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=Xs(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=lo(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Xs(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=ta(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return Ps(t,a,s.isFullyInitialized()||po(n),e.filter.filtersNodes())}}function ca(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(po(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=so(n);if(!l.isCompleteForPath(n)&&ao(n)>1)return t;const i=lo(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,oa,null)}const d=xs(t,c,l.isFullyInitialized()||po(n),u.filtersNodes());return la(e,d,n,i,new sa(i,d,o),a)}function ua(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new sa(i,t,o);if(po(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Ps(t,c,!0,e.filter.filtersNodes());else{const i=so(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ps(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=lo(n),c=a.getNode().getImmediateChild(i);let d;if(po(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===co(o)&&e.getChild(ho(o)).isEmpty()?e:e.updateChild(o,r):Yo.EMPTY_NODE}if(c.equals(d))l=t;else{l=Ps(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function da(e,t){return e.eventCache.isCompleteForChild(t)}function ha(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function fa(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=po(n)?r:new Ns(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=ha(0,t.serverCache.getNode().getImmediateChild(n),r);c=ca(e,c,new io(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=ha(0,t.serverCache.getNode().getImmediateChild(n),r);c=ca(e,c,new io(n),l,i,o,s,a)}})),c}class pa{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new is(n.getIndex()),i=(o=n).loadsAllData()?new is(o.getIndex()):o.hasLimit()?new ss(o):new os(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(Yo.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(Yo.EMPTY_NODE,a.getNode(),null),u=new Ss(l,s.isFullyInitialized(),r.filtersNodes()),d=new Ss(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ts(d,u),this.eventGenerator_=new ks(this.query_)}get query(){return this.query_}}function ma(e,t){const n=Rs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!po(t)&&!n.getImmediateChild(so(t)).isEmpty())?n.getChild(t):null}function ga(e){return 0===e.eventRegistrations_.length}function ya(e,t,n){const r=[];if(n){Vt(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function _a(e,t,n,r){t.type===ys.MERGE&&null!==t.source.queryId&&(Vt(Rs(e.viewCache_),"We should always have a full cache before handling merges"),Vt(Is(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=aa(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,Vt(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Vt(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Vt(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,va(e,o.changes,o.viewCache.eventCache.getNode(),null)}function va(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Es(e,i,"child_removed",t,r,n),Es(e,i,"child_added",t,r,n),Es(e,i,"child_moved",o,r,n),Es(e,i,"child_changed",t,r,n),Es(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let ba,wa;class Ca{constructor(){this.views=new Map}}function Sa(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Vt(null!=o,"SyncTree gave us an op for an invalid query."),_a(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(_a(o,t,n,r));return i}}function ka(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Qs(n,i?r:null),o=!1;e?o=!0:r instanceof Yo?(e=Js(n,r),o=!1):(e=Yo.EMPTY_NODE,o=!1);const s=Ts(new Ss(e,o,!1),new Ss(r,i,!1));return new pa(t,s)}return s}function Ea(e,t,n,r,i,o){const s=ka(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Bo,((e,t)=>{r.push(ts(e,t))}));return n.isFullyInitialized()&&r.push(es(n.getNode())),va(e,r,n.getNode(),t)}(s,n)}function Ta(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Aa(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(ya(c,n,r)),ga(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(ya(t,n,r)),ga(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Aa(e)&&o.push(new(Vt(ba,"Reference.ts has not been loaded"),ba)(t._repo,t._path)),{removed:o,events:s}}function Pa(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function xa(e,t){let n=null;for(const r of e.views.values())n=n||ma(r,t);return n}function Ia(e,t){if(t._queryParams.loadsAllData())return Na(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Ra(e,t){return null!=Ia(e,t)}function Aa(e){return null!=Na(e)}function Na(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Da=1;class Oa{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ns(null),this.pendingWriteTree_={visibleWrites:Ds.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function La(e,t,n,r,i){return function(e,t,n,r,i){Vt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Os(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Wa(e,new ws({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ma(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if($s(e.pendingWriteTree_,t)){let t=new Ns(null);return null!=r.snap?t=t.set(oo(),!0):Pi(r.children,(e=>{t=t.set(new io(e),!0)})),Wa(e,new vs(r.path,t,n))}return[]}function Fa(e,t,n){return Wa(e,new ws({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function za(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Ra(s,t))){const l=Ta(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Aa(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Aa(t)){return[Na(t)]}{let e=[];return t&&(e=Pa(t)),Pi(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Va(e,r);e.listenProvider_.startListening(Xa(i),Ka(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Xa(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Ga(t));e.listenProvider_.stopListening(Xa(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Ga(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Ua(e,t,n,r){const i=Ya(e,r);if(null!=i){const r=Qa(i),o=r.path,s=r.queryId,a=mo(o,t);return Ja(e,o,new ws(_s(s),a,n))}return[]}function ja(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=mo(e,i);o=o||xa(t,n),s=s||Aa(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||Aa(l),o=o||xa(l,oo())):(l=new Ca,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=Yo.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=xa(t,oo());n&&(o=o.updateImmediateChild(e,n))}))}const c=Ra(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Ga(t);Vt(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Da++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Ea(l,t,n,Hs(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=Ia(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Ka(e,t),o=Va(e,n),s=e.listenProvider_.startListening(Xa(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Vt(!Aa(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!po(e)&&t&&Aa(t))return[Na(t).query];{let e=[];return t&&(e=e.concat(Pa(t).map((e=>e.query)))),Pi(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Xa(r),Ka(e,r))}}return s}(e,t,n))}return u}function Ba(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=xa(n,mo(e,t));if(r)return r}));return Ys(r,t,i,n,!0)}function qa(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=mo(e,n);r=r||xa(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||xa(i,oo()):(i=new Ca,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new Ss(r,!0,!1):null;return function(e){return Is(e.viewCache_)}(ka(i,t,Hs(e.pendingWriteTree_,t._path),o?s.getNode():Yo.EMPTY_NODE,o))}function Wa(e,t){return Ha(t,e.syncPointTree_,null,Hs(e.pendingWriteTree_,oo()))}function Ha(e,t,n,r){if(po(e.path))return $a(e,t,n,r);{const i=t.get(oo());null==n&&null!=i&&(n=xa(i,oo()));let o=[];const s=so(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=na(r,s);o=o.concat(Ha(a,l,e,t))}return i&&(o=o.concat(Sa(i,e,r,n))),o}}function $a(e,t,n,r){const i=t.get(oo());null==n&&null!=i&&(n=xa(i,oo()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=na(r,t),l=e.operationForChild(t);l&&(o=o.concat($a(l,i,s,a)))})),i&&(o=o.concat(Sa(i,e,r,n))),o}function Va(e,t){const n=t.query,r=Ka(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Yo.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Ya(e,n);if(r){const n=Qa(r),i=n.path,o=n.queryId,s=mo(i,t);return Ja(e,i,new bs(_s(o),s))}return[]}(e,n._path,r):function(e,t){return Wa(e,new bs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return za(e,n,null,r)}}}}function Ka(e,t){const n=Ga(t);return e.queryToTagMap.get(n)}function Ga(e){return e._path.toString()+"$"+e._queryIdentifier}function Ya(e,t){return e.tagToQueryMap.get(t)}function Qa(e){const t=e.indexOf("$");return Vt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new io(e.substr(0,t))}}function Ja(e,t,n){const r=e.syncPointTree_.get(t);Vt(r,"Missing sync point for query tag that we're tracking");return Sa(r,n,Hs(e.pendingWriteTree_,t),null)}function Xa(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Vt(wa,"Reference.ts has not been loaded"),wa)(e._repo,e._path):e}class Za{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Za(t)}node(){return this.node_}}class el{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=fo(this.path_,e);return new el(this.syncTree_,t)}node(){return Ba(this.syncTree_,this.path_)}}const tl=function(e,t,n){return e&&"object"===typeof e?(Vt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?nl(e[".sv"],t,n):"object"===typeof e[".sv"]?rl(e[".sv"],t):void Vt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},nl=function(e,t,n){if("timestamp"===e)return n.timestamp;Vt(!1,"Unexpected server value: "+e)},rl=function(e,t,n){e.hasOwnProperty("increment")||Vt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Vt(!1,"Unexpected increment value: "+r);const i=t.node();if(Vt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},il=function(e,t,n,r){return sl(t,new el(n,e),r)},ol=function(e,t,n){return sl(e,new Za(t),n)};function sl(e,t,n){const r=e.getPriority().val(),i=tl(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=tl(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new jo(o,Jo(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new jo(i))),r.forEachChild(Bo,((e,r)=>{const i=sl(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function ll(e,t){let n=t instanceof io?t:new io(t),r=e,i=so(n);for(;null!==i;){const e=_n(r.node.children,i)||{children:{},childCount:0};r=new al(i,r,e),n=lo(n),i=so(n)}return r}function cl(e){return e.node.value}function ul(e,t){e.node.value=t,ml(e)}function dl(e){return e.node.childCount>0}function hl(e,t){Pi(e.node.children,((n,r)=>{t(new al(n,e,r))}))}function fl(e,t,n,r){n&&!r&&t(e),hl(e,(e=>{fl(e,t,!0,r)})),n&&r&&t(e)}function pl(e){return new io(null===e.parent?e.name:pl(e.parent)+"/"+e.name)}function ml(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===cl(e)&&!dl(e)}(n),i=yn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ml(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ml(e))}(e.parent,e.name,e)}const gl=/[\[\].#$\/\u0000-\u001F\u007F]/,yl=/[\[\].#$\u0000-\u001F\u007F]/,_l=10485760,vl=function(e){return"string"===typeof e&&0!==e.length&&!gl.test(e)},bl=function(e){return"string"===typeof e&&0!==e.length&&!yl.test(e)},wl=function(e,t,n,r){r&&void 0===t||Cl(kn(e,"value"),t,n)},Cl=function(e,t,n){const r=n instanceof io?new _o(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+bo(r));if("function"===typeof t)throw new Error(e+"contains a function "+bo(r)+" with contents = "+t.toString());if(vi(t))throw new Error(e+"contains "+t.toString()+" "+bo(r));if("string"===typeof t&&t.length>_l/3&&En(t)>_l)throw new Error(e+"contains a string greater than "+_l+" utf8 bytes "+bo(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Pi(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!vl(t)))throw new Error(e+" contains an invalid key ("+t+") "+bo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=En(t),vo(e)}(r,t),Cl(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=En(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+bo(r)+" in addition to actual children.")}},Sl=function(e,t,n,r){if((!r||void 0!==n)&&!bl(n))throw new Error(kn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kl=function(e,t){if(".info"===so(t))throw new Error(e+" failed = Can't modify data under /.info/")},El=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!vl(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bl(e)}(n))throw new Error(kn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Tl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pl(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||go(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function xl(e,t,n){Pl(e,n),Rl(e,(e=>go(e,t)))}function Il(e,t,n){Pl(e,n),Rl(e,(e=>yo(e,t)||yo(t,e)))}function Rl(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Al(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Al(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();di&&pi("event: "+n.toString()),Ai(r)}}}const Nl="repo_interrupt";class Dl{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hs(),this.transactionQueueTree_=new al,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ol(e,t,n){if(e.stats_=Vi(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new us(e.repoInfo_,((t,n,r,i)=>{Fl(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>zl(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new So(e.repoInfo_,t,((t,n,r,i)=>{Fl(e,t,n,r,i)}),(t=>{zl(e,t)}),(t=>{!function(e,t){Pi(t,((t,n)=>{Ul(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return $i[n]||($i[n]=t()),$i[n]}(e.repoInfo_,(()=>new gs(e.stats_,e.server_))),e.infoData_=new ds,e.infoSyncTree_=new Oa({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Fa(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Ul(e,"connected",!1),e.serverSyncTree_=new Oa({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Il(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Ll(e){const t=e.infoData_.getNode(new io(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ml(e){return(t=(t={timestamp:Ll(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Fl(e,t,n,r,i){e.dataUpdateCount++;const o=new io(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=bn(n,(e=>Jo(e)));s=function(e,t,n,r){const i=Ya(e,r);if(i){const r=Qa(i),o=r.path,s=r.queryId,a=mo(o,t),l=Ns.fromObject(n);return Ja(e,o,new Cs(_s(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Jo(n);s=Ua(e.serverSyncTree_,o,t,i)}else if(r){const t=bn(n,(e=>Jo(e)));s=function(e,t,n){const r=Ns.fromObject(n);return Wa(e,new Cs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Jo(n);s=Fa(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Gl(e,o)),Il(e.eventQueue_,a,s)}function zl(e,t){Ul(e,"connected",t),!1===t&&function(e){Hl(e,"onDisconnectEvents");const t=Ml(e),n=hs();ps(e.onDisconnect_,oo(),((r,i)=>{const o=il(r,i,e.serverSyncTree_,t);fs(n,r,o)}));let r=[];ps(n,oo(),((t,n)=>{r=r.concat(Fa(e.serverSyncTree_,t,n));const i=Zl(e,t);Gl(e,i)})),e.onDisconnect_=hs(),Il(e.eventQueue_,oo(),r)}(e)}function Ul(e,t,n){const r=new io("/.info/"+t),i=Jo(n);e.infoData_.updateSnapshot(r,i);const o=Fa(e.infoSyncTree_,r,i);Il(e.eventQueue_,r,o)}function jl(e){return e.nextWriteId_++}function Bl(e,t,n,r,i){Hl(e,"set",{path:t.toString(),value:n,priority:r});const o=Ml(e),s=Jo(n,r),a=Ba(e.serverSyncTree_,t),l=ol(s,a,o),c=jl(e),u=La(e.serverSyncTree_,t,l,c,!0);Pl(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||_i("set at "+t+" failed: "+n);const s=Ma(e.serverSyncTree_,c,!o);Il(e.eventQueue_,t,s),$l(e,i,n,r)}));const d=Zl(e,t);Gl(e,d),Il(e.eventQueue_,d,[])}function ql(e,t,n){let r;r=".info"===so(t._path)?za(e.infoSyncTree_,t,n):za(e.serverSyncTree_,t,n),xl(e.eventQueue_,t._path,r)}function Wl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Nl)}function Hl(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];pi(t,...r)}function $l(e,t,n,r){t&&Ai((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function Vl(e,t,n){return Ba(e.serverSyncTree_,t,n)||Yo.EMPTY_NODE}function Kl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Xl(e,t),cl(t)){const n=Ql(e,t);Vt(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Vl(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Vt(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=mo(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{Hl(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Ma(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Xl(e,ll(e.transactionQueueTree_,t)),Kl(e,e.transactionQueueTree_),Il(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Ai(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{_i("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Gl(e,t)}}),s)}(e,pl(t),n)}else dl(t)&&hl(t,(t=>{Kl(e,t)}))}function Gl(e,t){const n=Yl(e,t),r=pl(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=mo(n,o.path);let u,d=!1;if(Vt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,i=i.concat(Ma(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)d=!0,u="maxretry",i=i.concat(Ma(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Vl(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Cl("transaction failed: Data returned ",r,o.path);let t=Jo(r);"object"===typeof r&&null!=r&&yn(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Ml(e),c=ol(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=jl(e),s.splice(s.indexOf(a),1),i=i.concat(La(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Ma(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",i=i.concat(Ma(e.serverSyncTree_,o.currentWriteId,!0))}Il(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;Xl(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ai(r[l]);Kl(e,e.transactionQueueTree_)}(e,Ql(e,n),r),r}function Yl(e,t){let n,r=e.transactionQueueTree_;for(n=so(t);null!==n&&void 0===cl(r);)r=ll(r,n),n=so(t=lo(t));return r}function Ql(e,t){const n=[];return Jl(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Jl(e,t,n){const r=cl(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);hl(t,(t=>{Jl(e,t,n)}))}function Xl(e,t){const n=cl(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,ul(t,n.length>0?n:void 0)}hl(t,(t=>{Xl(e,t)}))}function Zl(e,t){const n=pl(Yl(e,t)),r=ll(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{ec(e,t)})),ec(e,r),fl(r,(t=>{ec(e,t)})),n}function ec(e,t){const n=cl(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Vt(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Vt(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Ma(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ul(t,void 0):n.length=o+1,Il(e.eventQueue_,pl(t),i);for(let e=0;e<r.length;e++)Ai(r[e])}}const tc=function(e,t){const n=nc(e),r=n.namespace;"firebase.com"===n.domain&&yi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||yi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_i("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Bi(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new io(n.pathString)}},nc=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_i(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},rc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class ic{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mn(this.snapshot.exportVal())}}class oc{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sc{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Vt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ac{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return po(this._path)?null:co(this._path)}get ref(){return new lc(this._repo,this._path)}get _queryIdentifier(){const e=cs(this._queryParams),t=Ei(e);return"{}"===t?"default":t}get _queryObject(){return cs(this._queryParams)}isEqual(e){if(!((e=Tn(e))instanceof ac))return!1;const t=this._repo===e._repo,n=go(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class lc extends ac{constructor(e,t){super(e,t,new as,!1)}get parent(){const e=ho(this._path);return null===e?null:new lc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class cc{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new io(e),n=dc(this.ref,e);return new cc(this._node.getChild(t),n,Bo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new cc(n,dc(this.ref,t),Bo))))}hasChild(e){const t=new io(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uc(e,t){return(e=Tn(e))._checkNotDeleted("ref"),void 0!==t?dc(e._root,t):e._root}function dc(e,t){var n,r,i,o;return null===so((e=Tn(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Sl(n,r,i,o)):Sl("child","path",t,!1),new lc(e._repo,fo(e._path,t))}function hc(e,t){e=Tn(e),kl("set",e._path),wl("set",t,e._path,!1);const n=new an;return Bl(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function fc(e){e=Tn(e);const t=new sc((()=>{})),n=new pc(t);return function(e,t,n){const r=qa(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=Jo(r).withIndex(t._queryParams.getIndex());let o;if(ja(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Fa(e.serverSyncTree_,t._path,i);else{const n=Ka(e.serverSyncTree_,t);o=Ua(e.serverSyncTree_,t._path,i,n)}return Il(e.eventQueue_,t._path,o),za(e.serverSyncTree_,t,n,null,!0),i}),(n=>(Hl(e,"get for query "+mn(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new cc(t,new lc(e._repo,e._path),e._queryParams.getIndex())))}class pc{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new ic("value",this,new cc(e.snapshotNode,new lc(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new oc(this,e,t):null}matches(e){return e instanceof pc&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class mc{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new oc(this,e,t):null}createEvent(e,t){Vt(null!=e.childName,"Child events should have a childName.");const n=dc(new lc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ic(e.type,this,new cc(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof mc&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function gc(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{ql(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new sc(n,o||void 0),a="value"===t?new pc(s):new mc(t,s);return function(e,t,n){let r;r=".info"===so(t._path)?ja(e.infoSyncTree_,t,n):ja(e.serverSyncTree_,t,n),xl(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>ql(e._repo,e,a)}function yc(e,t,n,r){return gc(e,"value",t,n,r)}!function(e){Vt(!ba,"__referenceConstructor has already been defined"),ba=e}(lc),function(e){Vt(!wa,"__referenceConstructor has already been defined"),wa=e}(lc);const _c={};let vc=!1;function bc(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||yi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pi("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=tc(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD3DPOExI8Px9lYK_8sIBxHlSazQUhxIRg",REACT_APP_FIREBASE_AUTH_DOMAIN:"seeyounow-34bdb.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"seeyounow-34bdb",REACT_APP_FIREBASE_STORAGE_BUCKET:"seeyounow-34bdb.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"536454714500",REACT_APP_FIREBASE_APP_ID:"1:536454714500:web:637c3a4554c7fd3e695ed1",REACT_APP_FIREBASE_MEASUREMENT_ID:"yG-6W89G6L3XE",REACT_APP_FIREBASE_DATABASE_URL:"https://seeyounow-34bdb-default-rtdb.firebaseio.com/"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o=`http://${a}?ns=${c.namespace}`,l=tc(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new Li(Li.OWNER):new Oi(e.name,e.options,t);El("Invalid Firebase Database URL",l),po(l.path)||yi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=_c[t.name];i||(i={},_c[t.name]=i);let o=i[e.toURLString()];o&&yi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Dl(e,vc,n,r),i[e.toURLString()]=o,o}(c,e,u,new Di(e,n));return new wc(d,e)}class wc{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ol(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lc(this._repo,oo())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=_c[t];n&&n[e.key]===e||yi(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Wl(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&yi("Cannot call "+e+" on a deleted database.")}}const Cc={".sv":"timestamp"};function Sc(){return Cc}So.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},So.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){ti("11.4.0"),Mr(new Pn("database",((e,t)=>{let{instanceIdentifier:n}=t;return bc(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Br(Xr,Zr,e),Br(Xr,Zr,"esm2017")}();const kc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;const t=Nr.get(e);if(!t&&e===Rr&&sn())return jr();if(!t)throw zr.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0;const n=Fr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=on("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Tn(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&wn(r,o.repoInfo_.emulatorOptions))return;yi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&yi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Li(Li.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xt(JSON.stringify({alg:"none",type:"JWT"})),Xt(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);s=new Li(t)}!function(e,t,n,r){e.repoInfo_=new Bi(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,s)}(n,...e)}return n}(jr({apiKey:"AIzaSyD3DPOExI8Px9lYK_8sIBxHlSazQUhxIRg",authDomain:"seeyounow-34bdb.firebaseapp.com",projectId:"seeyounow-34bdb",storageBucket:"seeyounow-34bdb.firebasestorage.app",messagingSenderId:"536454714500",appId:"1:536454714500:web:637c3a4554c7fd3e695ed1",measurementId:"yG-6W89G6L3XE",databaseURL:"https://seeyounow-34bdb-default-rtdb.firebaseio.com/"})),Ec=async e=>{try{await function(e){return kl("remove",e._path),hc(e,null)}(uc(kc,`users/${e}`)),console.log("User ID removed successfully:",e)}catch(gi){console.error("Error removing user ID:",gi)}};var Tc=n(579);const Pc=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(0),[i,o]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[d,h]=(0,a.useState)("pending"),[f,p]=(0,a.useState)(null),[m,g]=(0,a.useState)("unknown"),y=(0,a.useRef)(null),_=(0,a.useRef)(null),v=(0,a.useRef)(null),b=(0,a.useRef)(null),w=(0,a.useRef)(null),C=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=window.location.hostname;"localhost"===e||"127.0.0.1"===e?g("localhost"):/^(\d{1,3}\.){3}\d{1,3}$/.test(e)?g("ip"):g("domain"),window.isSecureContext||console.warn("Not running in a secure context. Media permissions may be denied.")}),[]);const S=async()=>{try{const e={video:{facingMode:"user"},audio:!0};console.log("Requesting media access with constraints:",e);const t=await navigator.mediaDevices.getUserMedia(e);return b.current=t,y.current&&(y.current.srcObject=t),h("granted"),t}catch(gi){return console.error("Error accessing media devices:",gi),"https:"===window.location.protocol||"ip"!==m||"NotAllowedError"!==gi.name&&"PermissionDeniedError"!==gi.name?(h("denied"),alert("Error accessing camera/microphone: "+gi.message)):h("insecure_context"),null}},k=async()=>{h("requesting");await S()&&E()},E=()=>{v.current=new qt(void 0,{debug:3,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"stun:stun.ekiga.net"},{urls:"stun:global.stun.twilio.com:3478"},{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{urls:"turn:turn.anyfirewall.com:443?transport=tcp",credential:"webrtc",username:"webrtc"}]}}),v.current.on("open",(async e=>{console.log("My peer ID is:",e),t(e),await(async e=>{try{await hc(uc(kc,`users/${e}`),{available:!0,lastSeen:Sc()}),console.log("User ID saved successfully:",e)}catch(gi){console.error("Error saving user ID:",gi)}})(e),(e=>{C.current&&clearInterval(C.current),C.current=setInterval((()=>{hc(uc(kc,`users/${e}`),{available:!0,lastSeen:Sc()}).catch((e=>console.error("Heartbeat error:",e)))}),1e4),hc(uc(kc,`users/${e}`),{available:!0,lastSeen:Sc()}).catch((e=>console.error("Initial heartbeat error:",e)))})(e)})),v.current.on("error",(e=>{console.error("PeerJS error:",e),"peer-unavailable"===e.type?(console.log("The peer you're trying to connect to is unavailable"),p("The user you're trying to connect to is unavailable or offline."),o(!1),setTimeout((()=>{p(null),c||T()}),2e3)):alert(`Connection error: ${e.type} - ${e.message}`)})),v.current.on("disconnected",(()=>{console.log("Disconnected from server, attempting to reconnect"),v.current.reconnect()})),v.current.on("call",(async e=>{console.log("Receiving call from:",e.peer),w.current=e,o(!1),l(!1),p(null),u(!0);try{b.current||(b.current=await S()),e.answer(b.current),e.on("stream",(e=>{console.log("Received remote stream"),_.current&&(_.current.srcObject=e)})),e.on("close",(()=>{console.log("Call closed"),u(!1),_.current&&(_.current.srcObject=null)})),e.on("error",(e=>{console.error("Call error:",e),u(!1)}))}catch(gi){console.error("Error during call:",gi),alert("Error during call: "+gi.message)}}));yc(uc(kc,"users"),(e=>{if(e.exists()){const t=e.val(),n=Object.keys(t).filter((e=>{const n=t[e];if(!n.lastSeen)return!0;const r=n.lastSeen;return Date.now()-r<3e4}));r(n.length),console.log("Active users updated:",n)}else r(0)}))};(0,a.useEffect)((()=>()=>{C.current&&clearInterval(C.current),e&&Ec(e),w.current&&w.current.close(),b.current&&b.current.getTracks().forEach((e=>e.stop())),v.current&&v.current.destroy()}),[]);const T=async()=>{if(o(!0),l(!1),p(null),b.current||(b.current=await S(),b.current)){w.current&&(w.current.close(),w.current=null);try{const t=(await(async()=>{try{const e=await fc(dc(uc(kc),"users"));if(!e.exists())return[];const t=e.val(),n=Object.keys(t).filter((e=>{const n=t[e];if(!n.lastSeen)return!0;const r=n.lastSeen;return Date.now()-r<3e4}));return console.log("Fetched active users:",n),n}catch(gi){return console.error("Error fetching users:",gi),[]}})()).filter((t=>t!==e));if(console.log("Available users to call:",t),t.length>0){const e=[...t].sort((()=>.5-Math.random()));P(e)}else console.log("No users available"),o(!1),l(!0)}catch(gi){console.error("Error finding chat:",gi),o(!1),p("Error finding users: "+gi.message)}}else o(!1)},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t>=e.length)return o(!1),void l(!0);const n=e[t];console.log(`Attempting to call user ${t+1}/${e.length}: ${n}`);try{const r=v.current.call(n,b.current);w.current=r;const i=setTimeout((()=>{c||w.current!==r||(console.log(`Call to ${n} timed out, trying next user`),r.closed||r.close(),P(e,t+1))}),5e3);r.on("stream",(e=>{console.log("Received stream from called peer"),clearTimeout(i),_.current&&(_.current.srcObject=e),o(!1),u(!0)})),r.on("close",(()=>{console.log("Call closed"),clearTimeout(i),u(!1),_.current&&(_.current.srcObject=null)})),r.on("error",(n=>{console.error("Call error:",n),clearTimeout(i),P(e,t+1)}))}catch(gi){console.error(`Error calling peer ${n}:`,gi),P(e,t+1)}};return"insecure_context"===d?(0,Tc.jsxs)("div",{className:"permission-insecure-container",children:[(0,Tc.jsx)("h2",{children:"Security Warning"}),(0,Tc.jsx)("p",{children:"You're accessing this app through an IP address without HTTPS."}),(0,Tc.jsx)("p",{children:"Most browsers require a secure context (HTTPS) for camera and microphone access."}),(0,Tc.jsxs)("div",{className:"access-options",children:[(0,Tc.jsx)("h3",{children:"To use this app, try one of these methods:"}),(0,Tc.jsxs)("ol",{children:[(0,Tc.jsxs)("li",{children:[(0,Tc.jsx)("strong",{children:"Access via localhost:"}),(0,Tc.jsxs)("p",{children:["If running locally, use ",(0,Tc.jsx)("a",{href:"http://localhost:3000",children:"http://localhost:3000"})," instead of the IP address"]})]}),(0,Tc.jsxs)("li",{children:[(0,Tc.jsx)("strong",{children:"Try these browser settings:"}),(0,Tc.jsxs)("ul",{children:[(0,Tc.jsxs)("li",{children:[(0,Tc.jsx)("strong",{children:"Chrome:"})," Go to ",(0,Tc.jsx)("code",{children:"chrome://flags/#unsafely-treat-insecure-origin-as-secure"})," and add your IP address"]}),(0,Tc.jsxs)("li",{children:[(0,Tc.jsx)("strong",{children:"Firefox:"})," Go to ",(0,Tc.jsx)("code",{children:"about:config"})," and set ",(0,Tc.jsx)("code",{children:"media.devices.insecure.enabled"})," and ",(0,Tc.jsx)("code",{children:"media.getusermedia.insecure.enabled"})," to ",(0,Tc.jsx)("code",{children:"true"})]})]})]}),(0,Tc.jsxs)("li",{children:[(0,Tc.jsx)("strong",{children:"Force Permission Request:"}),(0,Tc.jsx)("p",{children:"Click the button below to try requesting permissions anyway (may not work in all browsers)"}),(0,Tc.jsx)("button",{className:"force-permission-button",onClick:k,children:"Force Permission Request"})]})]})]})]}):"pending"===d||"requesting"===d?(0,Tc.jsxs)("div",{className:"permission-container",children:[(0,Tc.jsx)("h2",{children:"Camera and Microphone Access Required"}),(0,Tc.jsx)("p",{children:"This app needs access to your camera and microphone to enable video chat."}),"ip"===m&&(0,Tc.jsxs)("div",{className:"permission-warning",children:[(0,Tc.jsx)("p",{children:"\u26a0\ufe0f You're accessing this app through an IP address, which might cause permission issues in some browsers."}),(0,Tc.jsxs)("p",{children:["If permissions fail, try accessing via ",(0,Tc.jsx)("code",{children:"localhost"})," instead of the IP address."]})]}),(0,Tc.jsx)("button",{className:"permission-button",onClick:k,disabled:"requesting"===d,children:"requesting"===d?"Requesting Access...":"Allow Access"}),(0,Tc.jsxs)("div",{className:"permission-info",children:[(0,Tc.jsx)("p",{children:"Why we need these permissions:"}),(0,Tc.jsxs)("ul",{children:[(0,Tc.jsx)("li",{children:"Camera: To show your video to other users"}),(0,Tc.jsx)("li",{children:"Microphone: To transmit your voice to other users"})]}),(0,Tc.jsx)("p",{children:"You can revoke these permissions at any time through your browser settings."})]})]}):"denied"===d?(0,Tc.jsxs)("div",{className:"permission-denied-container",children:[(0,Tc.jsx)("h2",{children:"Permission Denied"}),(0,Tc.jsx)("p",{children:"Camera and/or microphone access was denied. This app cannot function without these permissions."}),"ip"===m&&(0,Tc.jsxs)("div",{className:"permission-warning",children:[(0,Tc.jsx)("p",{children:"\u26a0\ufe0f You're accessing this app via an IP address, which can cause permission issues in some browsers."}),(0,Tc.jsxs)("p",{children:["Try accessing the app using ",(0,Tc.jsx)("code",{children:"localhost"})," instead of an IP address."]})]}),(0,Tc.jsx)("p",{children:"Please check your browser settings and make sure you've allowed camera/microphone permissions for this site."}),(0,Tc.jsx)("button",{className:"permission-button",onClick:()=>window.location.reload(),children:"Try Again"})]}):(0,Tc.jsxs)("div",{className:"video-call-container",children:[(0,Tc.jsxs)("div",{className:"active-users-counter",children:["Active Users: ",n]}),(0,Tc.jsxs)("h2",{children:["Your Peer ID: ",e]}),(0,Tc.jsx)("button",{className:"find-chat-button",onClick:T,disabled:i||c,children:i?"Finding Chat...":c?"Connected":"Find a Chat"}),i&&(0,Tc.jsx)("p",{className:"waiting-text",children:"Waiting for a user..."}),s&&(0,Tc.jsx)("p",{className:"no-users-text",children:"No users available. Try again later."}),f&&(0,Tc.jsx)("p",{className:"error-text",children:f}),(0,Tc.jsxs)("div",{className:"video-container",children:[(0,Tc.jsx)("video",{ref:y,autoPlay:!0,muted:!0,playsInline:!0,className:"video"}),(0,Tc.jsx)("video",{ref:_,autoPlay:!0,playsInline:!0,className:"video"})]}),c&&(0,Tc.jsx)("button",{className:"end-call-button",onClick:()=>{w.current&&(w.current.close(),w.current=null),u(!1)},children:"End Call"})]})};const xc=function(){return(0,Tc.jsxs)("div",{className:"App",children:[(0,Tc.jsx)("h1",{children:"Video Chat App"}),(0,Tc.jsx)(Pc,{})]})},Ic=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};l.createRoot(document.getElementById("root")).render((0,Tc.jsx)(a.StrictMode,{children:(0,Tc.jsx)(xc,{})})),Ic()})();
//# sourceMappingURL=main.6c0ebdf6.js.map